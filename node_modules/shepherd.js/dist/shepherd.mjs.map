{"version":3,"file":"shepherd.mjs","sources":["../src/utils/type-check.ts","../src/evented.ts","../../node_modules/.pnpm/deepmerge-ts@5.1.0/node_modules/deepmerge-ts/dist/node/index.mjs","../src/utils/auto-bind.ts","../src/utils/bind.ts","../src/utils/general.ts","../../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../node_modules/.pnpm/@floating-ui+core@1.6.0/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../node_modules/.pnpm/@floating-ui+dom@1.6.3/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../src/utils/floating-ui.ts","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/each.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/spread.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/shared/version.js","../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/internal/disclose-version/index.js","../src/components/shepherd-button.svelte","../src/components/shepherd-footer.svelte","../src/components/shepherd-cancel-icon.svelte","../src/components/shepherd-title.svelte","../src/components/shepherd-header.svelte","../src/components/shepherd-text.svelte","../src/components/shepherd-content.svelte","../src/components/shepherd-element.svelte","../src/step.ts","../src/utils/context.ts","../src/utils/cleanup.ts","../../node_modules/.pnpm/idb@8.0.0/node_modules/idb/build/index.js","../src/utils/datarequest.ts","../src/utils/overlay-path.ts","../src/components/shepherd-modal.svelte","../src/tour.ts","../src/shepherd.ts"],"sourcesContent":["/**\n * Checks if `value` is classified as an `Element`.\n * @param value The param to check if it is an Element\n */\nexport function isElement<T>(value: T | Element): value is Element {\n  return value instanceof Element;\n}\n\n/**\n * Checks if `value` is classified as an `HTMLElement`.\n * @param value The param to check if it is an HTMLElement\n */\nexport function isHTMLElement<T>(value: T | HTMLElement): value is HTMLElement {\n  return value instanceof HTMLElement;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n * @param value The param to check if it is a function\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction<T>(value: T | Function): value is Function {\n  return typeof value === 'function';\n}\n\n/**\n * Checks if `value` is classified as a `String` object.\n * @param value The param to check if it is a string\n */\nexport function isString<T>(value: T | string): value is string {\n  return typeof value === 'string';\n}\n\n/**\n * Checks if `value` is undefined.\n * @param value The param to check if it is undefined\n */\nexport function isUndefined<T>(value: T | undefined): value is undefined {\n  return value === undefined;\n}\n","import { isUndefined } from './utils/type-check.ts';\n\nexport type Bindings = {\n  [key: string]: Array<{ handler: () => void; ctx?: unknown; once?: boolean }>;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type AnyHandler = (...args: any[]) => void;\n\nexport class Evented {\n  declare bindings: Bindings;\n\n  /**\n   * Adds an event listener for the given event string.\n   *\n   * @param {string} event\n   * @param {Function} handler\n   * @param ctx\n   * @param {boolean} once\n   * @returns\n   */\n  on(event: string, handler: AnyHandler, ctx?: unknown, once = false) {\n    if (isUndefined(this.bindings)) {\n      this.bindings = {};\n    }\n    if (isUndefined(this.bindings[event])) {\n      this.bindings[event] = [];\n    }\n    this.bindings[event]?.push({ handler, ctx, once });\n\n    return this;\n  }\n\n  /**\n   * Adds an event listener that only fires once for the given event string.\n   *\n   * @param {string} event\n   * @param {Function} handler\n   * @param ctx\n   * @returns\n   */\n  once(event: string, handler: AnyHandler, ctx?: unknown) {\n    return this.on(event, handler, ctx, true);\n  }\n\n  /**\n   * Removes an event listener for the given event string.\n   *\n   * @param {string} event\n   * @param {Function} handler\n   * @returns\n   */\n  off(event: string, handler: AnyHandler) {\n    if (isUndefined(this.bindings) || isUndefined(this.bindings[event])) {\n      return this;\n    }\n\n    if (isUndefined(handler)) {\n      delete this.bindings[event];\n    } else {\n      this.bindings[event]?.forEach((binding, index) => {\n        if (binding.handler === handler) {\n          this.bindings[event]?.splice(index, 1);\n        }\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Triggers an event listener for the given event string.\n   *\n   * @param {string} event\n   * @returns\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  trigger(event: string, ...args: any[]) {\n    if (!isUndefined(this.bindings) && this.bindings[event]) {\n      this.bindings[event]?.forEach((binding, index) => {\n        const { ctx, handler, once } = binding;\n\n        const context = ctx || this;\n\n        handler.apply(context, args as []);\n\n        if (once) {\n          this.bindings[event]?.splice(index, 1);\n        }\n      });\n    }\n\n    return this;\n  }\n}\n","/**\n * Special values that tell deepmerge to perform a certain action.\n */\nconst actions = {\n    defaultMerge: Symbol(\"deepmerge-ts: default merge\"),\n    skip: Symbol(\"deepmerge-ts: skip\"),\n};\n/**\n * Special values that tell deepmergeInto to perform a certain action.\n */\nconst actionsInto = {\n    defaultMerge: actions.defaultMerge,\n};\n\n/**\n * The default function to update meta data.\n */\nfunction defaultMetaDataUpdater(previousMeta, metaMeta) {\n    return metaMeta;\n}\n\n/**\n * Get the type of the given object.\n *\n * @param object - The object to get the type of.\n * @returns The type of the given object.\n */\nfunction getObjectType(object) {\n    if (typeof object !== \"object\" || object === null) {\n        return 0 /* ObjectType.NOT */;\n    }\n    if (Array.isArray(object)) {\n        return 2 /* ObjectType.ARRAY */;\n    }\n    if (isRecord(object)) {\n        return 1 /* ObjectType.RECORD */;\n    }\n    if (object instanceof Set) {\n        return 3 /* ObjectType.SET */;\n    }\n    if (object instanceof Map) {\n        return 4 /* ObjectType.MAP */;\n    }\n    return 5 /* ObjectType.OTHER */;\n}\n/**\n * Get the keys of the given objects including symbol keys.\n *\n * Note: Only keys to enumerable properties are returned.\n *\n * @param objects - An array of objects to get the keys of.\n * @returns A set containing all the keys of all the given objects.\n */\nfunction getKeys(objects) {\n    const keys = new Set();\n    /* eslint-disable functional/no-loop-statements, functional/no-expression-statements -- using a loop here is more efficient. */\n    for (const object of objects) {\n        for (const key of [\n            ...Object.keys(object),\n            ...Object.getOwnPropertySymbols(object),\n        ]) {\n            keys.add(key);\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-expression-statements */\n    return keys;\n}\n/**\n * Does the given object have the given property.\n *\n * @param object - The object to test.\n * @param property - The property to test.\n * @returns Whether the object has the property.\n */\nfunction objectHasProperty(object, property) {\n    return (typeof object === \"object\" &&\n        Object.prototype.propertyIsEnumerable.call(object, property));\n}\n/**\n * Get an iterable object that iterates over the given iterables.\n */\nfunction getIterableOfIterables(iterables) {\n    return {\n        // eslint-disable-next-line functional/functional-parameters\n        *[Symbol.iterator]() {\n            // eslint-disable-next-line functional/no-loop-statements\n            for (const iterable of iterables) {\n                // eslint-disable-next-line functional/no-loop-statements\n                for (const value of iterable) {\n                    yield value;\n                }\n            }\n        },\n    };\n}\nconst validRecordToStringValues = new Set([\n    \"[object Object]\",\n    \"[object Module]\",\n]);\n/**\n * Does the given object appear to be a record.\n */\nfunction isRecord(value) {\n    // All records are objects.\n    if (!validRecordToStringValues.has(Object.prototype.toString.call(value))) {\n        return false;\n    }\n    const { constructor } = value;\n    // If has modified constructor.\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (constructor === undefined) {\n        return true;\n    }\n    // eslint-disable-next-line prefer-destructuring\n    const prototype = constructor.prototype;\n    // If has modified prototype.\n    if (prototype === null ||\n        typeof prototype !== \"object\" ||\n        !validRecordToStringValues.has(Object.prototype.toString.call(prototype))) {\n        return false;\n    }\n    // If constructor does not have an Object-specific method.\n    // eslint-disable-next-line sonarjs/prefer-single-boolean-return, no-prototype-builtins\n    if (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n        return false;\n    }\n    // Most likely a record.\n    return true;\n}\n\n/**\n * The default strategy to merge records.\n *\n * @param values - The records.\n */\nfunction mergeRecords$2(values, utils, meta) {\n    const result = {};\n    /* eslint-disable functional/no-loop-statements, functional/no-conditional-statements, functional/no-expression-statements, functional/immutable-data -- using imperative code here is more performant. */\n    for (const key of getKeys(values)) {\n        const propValues = [];\n        for (const value of values) {\n            if (objectHasProperty(value, key)) {\n                propValues.push(value[key]);\n            }\n        }\n        if (propValues.length === 0) {\n            continue;\n        }\n        const updatedMeta = utils.metaDataUpdater(meta, {\n            key,\n            parents: values,\n        });\n        const propertyResult = mergeUnknowns(propValues, utils, updatedMeta);\n        if (propertyResult === actions.skip) {\n            continue;\n        }\n        if (key === \"__proto__\") {\n            Object.defineProperty(result, key, {\n                value: propertyResult,\n                configurable: true,\n                enumerable: true,\n                writable: true,\n            });\n        }\n        else {\n            result[key] = propertyResult;\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-conditional-statements, functional/no-expression-statements, functional/immutable-data */\n    return result;\n}\n/**\n * The default strategy to merge arrays.\n *\n * @param values - The arrays.\n */\nfunction mergeArrays$2(values) {\n    return values.flat();\n}\n/**\n * The default strategy to merge sets.\n *\n * @param values - The sets.\n */\nfunction mergeSets$2(values) {\n    return new Set(getIterableOfIterables(values));\n}\n/**\n * The default strategy to merge maps.\n *\n * @param values - The maps.\n */\nfunction mergeMaps$2(values) {\n    return new Map(getIterableOfIterables(values));\n}\n/**\n * Get the last value in the given array.\n */\nfunction mergeOthers$2(values) {\n    return values.at(-1);\n}\n\nvar defaultMergeFunctions = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    mergeArrays: mergeArrays$2,\n    mergeMaps: mergeMaps$2,\n    mergeOthers: mergeOthers$2,\n    mergeRecords: mergeRecords$2,\n    mergeSets: mergeSets$2\n});\n\n/**\n * Deeply merge objects.\n *\n * @param objects - The objects to merge.\n */\nfunction deepmerge(\n// eslint-disable-next-line functional/functional-parameters\n...objects) {\n    return deepmergeCustom({})(...objects);\n}\nfunction deepmergeCustom(options, rootMetaData) {\n    const utils = getUtils(options, customizedDeepmerge);\n    /**\n     * The customized deepmerge function.\n     */\n    function customizedDeepmerge(\n    // eslint-disable-next-line functional/functional-parameters\n    ...objects) {\n        return mergeUnknowns(objects, utils, rootMetaData);\n    }\n    return customizedDeepmerge;\n}\n/**\n * The the utils that are available to the merge functions.\n *\n * @param options - The options the user specified\n */\nfunction getUtils(options, customizedDeepmerge) {\n    return {\n        defaultMergeFunctions,\n        mergeFunctions: {\n            ...defaultMergeFunctions,\n            ...Object.fromEntries(Object.entries(options)\n                .filter(([key, option]) => Object.hasOwn(defaultMergeFunctions, key))\n                .map(([key, option]) => option === false\n                ? [key, mergeOthers$2]\n                : [key, option])),\n        },\n        metaDataUpdater: (options.metaDataUpdater ??\n            defaultMetaDataUpdater),\n        deepmerge: customizedDeepmerge,\n        useImplicitDefaultMerging: options.enableImplicitDefaultMerging ?? false,\n        actions,\n    };\n}\n/**\n * Merge unknown things.\n *\n * @param values - The values.\n */\nfunction mergeUnknowns(values, utils, meta) {\n    if (values.length === 0) {\n        return undefined;\n    }\n    if (values.length === 1) {\n        return mergeOthers$1(values, utils, meta);\n    }\n    const type = getObjectType(values[0]);\n    /* eslint-disable functional/no-loop-statements, functional/no-conditional-statements -- using imperative code here is more performant. */\n    if (type !== 0 /* ObjectType.NOT */ && type !== 5 /* ObjectType.OTHER */) {\n        for (let m_index = 1; m_index < values.length; m_index++) {\n            if (getObjectType(values[m_index]) === type) {\n                continue;\n            }\n            return mergeOthers$1(values, utils, meta);\n        }\n    }\n    /* eslint-enable functional/no-loop-statements, functional/no-conditional-statements */\n    switch (type) {\n        case 1 /* ObjectType.RECORD */: {\n            return mergeRecords$1(values, utils, meta);\n        }\n        case 2 /* ObjectType.ARRAY */: {\n            return mergeArrays$1(values, utils, meta);\n        }\n        case 3 /* ObjectType.SET */: {\n            return mergeSets$1(values, utils, meta);\n        }\n        case 4 /* ObjectType.MAP */: {\n            return mergeMaps$1(values, utils, meta);\n        }\n        default: {\n            return mergeOthers$1(values, utils, meta);\n        }\n    }\n}\n/**\n * Merge records.\n *\n * @param values - The records.\n */\nfunction mergeRecords$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeRecords(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeRecords !==\n                utils.defaultMergeFunctions.mergeRecords)) {\n        return utils.defaultMergeFunctions.mergeRecords(values, utils, meta);\n    }\n    return result;\n}\n/**\n * Merge arrays.\n *\n * @param values - The arrays.\n */\nfunction mergeArrays$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeArrays(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeArrays !==\n                utils.defaultMergeFunctions.mergeArrays)) {\n        return utils.defaultMergeFunctions.mergeArrays(values);\n    }\n    return result;\n}\n/**\n * Merge sets.\n *\n * @param values - The sets.\n */\nfunction mergeSets$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeSets(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeSets !== utils.defaultMergeFunctions.mergeSets)) {\n        return utils.defaultMergeFunctions.mergeSets(values);\n    }\n    return result;\n}\n/**\n * Merge maps.\n *\n * @param values - The maps.\n */\nfunction mergeMaps$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeMaps(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeMaps !== utils.defaultMergeFunctions.mergeMaps)) {\n        return utils.defaultMergeFunctions.mergeMaps(values);\n    }\n    return result;\n}\n/**\n * Merge other things.\n *\n * @param values - The other things.\n */\nfunction mergeOthers$1(values, utils, meta) {\n    const result = utils.mergeFunctions.mergeOthers(values, utils, meta);\n    if (result === actions.defaultMerge ||\n        (utils.useImplicitDefaultMerging &&\n            result === undefined &&\n            utils.mergeFunctions.mergeOthers !==\n                utils.defaultMergeFunctions.mergeOthers)) {\n        return utils.defaultMergeFunctions.mergeOthers(values);\n    }\n    return result;\n}\n\n/**\n * The default strategy to merge records into a target record.\n *\n * @param m_target - The result will be mutated into this record\n * @param values - The records (including the target's value if there is one).\n */\nfunction mergeRecords(m_target, values, utils, meta) {\n    for (const key of getKeys(values)) {\n        const propValues = [];\n        for (const value of values) {\n            if (objectHasProperty(value, key)) {\n                propValues.push(value[key]);\n            }\n        }\n        if (propValues.length === 0) {\n            continue;\n        }\n        const updatedMeta = utils.metaDataUpdater(meta, {\n            key,\n            parents: values,\n        });\n        const propertyTarget = { value: propValues[0] };\n        mergeUnknownsInto(propertyTarget, propValues, utils, updatedMeta);\n        if (key === \"__proto__\") {\n            Object.defineProperty(m_target, key, {\n                value: propertyTarget.value,\n                configurable: true,\n                enumerable: true,\n                writable: true,\n            });\n        }\n        else {\n            m_target.value[key] = propertyTarget.value;\n        }\n    }\n}\n/**\n * The default strategy to merge arrays into a target array.\n *\n * @param m_target - The result will be mutated into this array\n * @param values - The arrays (including the target's value if there is one).\n */\nfunction mergeArrays(m_target, values) {\n    m_target.value.push(...values.slice(1).flat());\n}\n/**\n * The default strategy to merge sets into a target set.\n *\n * @param m_target - The result will be mutated into this set\n * @param values - The sets (including the target's value if there is one).\n */\nfunction mergeSets(m_target, values) {\n    for (const value of getIterableOfIterables(values.slice(1))) {\n        m_target.value.add(value);\n    }\n}\n/**\n * The default strategy to merge maps into a target map.\n *\n * @param m_target - The result will be mutated into this map\n * @param values - The maps (including the target's value if there is one).\n */\nfunction mergeMaps(m_target, values) {\n    for (const [key, value] of getIterableOfIterables(values.slice(1))) {\n        m_target.value.set(key, value);\n    }\n}\n/**\n * Set the target to the last value.\n */\nfunction mergeOthers(m_target, values) {\n    m_target.value = values.at(-1);\n}\n\nvar defaultMergeIntoFunctions = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    mergeArrays: mergeArrays,\n    mergeMaps: mergeMaps,\n    mergeOthers: mergeOthers,\n    mergeRecords: mergeRecords,\n    mergeSets: mergeSets\n});\n\nfunction deepmergeInto(target, ...objects) {\n    return void deepmergeIntoCustom({})(target, ...objects);\n}\nfunction deepmergeIntoCustom(options, rootMetaData) {\n    const utils = getIntoUtils(options, customizedDeepmergeInto);\n    /**\n     * The customized deepmerge function.\n     */\n    function customizedDeepmergeInto(target, ...objects) {\n        mergeUnknownsInto({ value: target }, [target, ...objects], utils, rootMetaData);\n    }\n    return customizedDeepmergeInto;\n}\n/**\n * The the utils that are available to the merge functions.\n *\n * @param options - The options the user specified\n */\nfunction getIntoUtils(options, customizedDeepmergeInto) {\n    return {\n        defaultMergeFunctions: defaultMergeIntoFunctions,\n        mergeFunctions: {\n            ...defaultMergeIntoFunctions,\n            ...Object.fromEntries(Object.entries(options)\n                .filter(([key, option]) => Object.hasOwn(defaultMergeIntoFunctions, key))\n                .map(([key, option]) => option === false\n                ? [key, mergeOthers]\n                : [key, option])),\n        },\n        metaDataUpdater: (options.metaDataUpdater ??\n            defaultMetaDataUpdater),\n        deepmergeInto: customizedDeepmergeInto,\n        actions: actionsInto,\n    };\n}\n/**\n * Merge unknown things into a target.\n *\n * @param m_target - The target to merge into.\n * @param values - The values.\n */\nfunction mergeUnknownsInto(m_target, values, utils, meta\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    if (values.length === 0) {\n        return;\n    }\n    if (values.length === 1) {\n        return void mergeOthersInto(m_target, values, utils, meta);\n    }\n    const type = getObjectType(m_target.value);\n    if (type !== 0 /* ObjectType.NOT */ && type !== 5 /* ObjectType.OTHER */) {\n        for (let m_index = 1; m_index < values.length; m_index++) {\n            if (getObjectType(values[m_index]) === type) {\n                continue;\n            }\n            return void mergeOthersInto(m_target, values, utils, meta);\n        }\n    }\n    switch (type) {\n        case 1 /* ObjectType.RECORD */: {\n            return void mergeRecordsInto(m_target, values, utils, meta);\n        }\n        case 2 /* ObjectType.ARRAY */: {\n            return void mergeArraysInto(m_target, values, utils, meta);\n        }\n        case 3 /* ObjectType.SET */: {\n            return void mergeSetsInto(m_target, values, utils, meta);\n        }\n        case 4 /* ObjectType.MAP */: {\n            return void mergeMapsInto(m_target, values, utils, meta);\n        }\n        default: {\n            return void mergeOthersInto(m_target, values, utils, meta);\n        }\n    }\n}\n/**\n * Merge records into a target record.\n *\n * @param m_target - The target to merge into.\n * @param values - The records.\n */\nfunction mergeRecordsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeRecords(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeRecords(m_target, values, utils, meta);\n    }\n}\n/**\n * Merge arrays into a target array.\n *\n * @param m_target - The target to merge into.\n * @param values - The arrays.\n */\nfunction mergeArraysInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeArrays(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeArrays(m_target, values);\n    }\n}\n/**\n * Merge sets into a target set.\n *\n * @param m_target - The target to merge into.\n * @param values - The sets.\n */\nfunction mergeSetsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeSets(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeSets(m_target, values);\n    }\n}\n/**\n * Merge maps into a target map.\n *\n * @param m_target - The target to merge into.\n * @param values - The maps.\n */\nfunction mergeMapsInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeMaps(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeMaps(m_target, values);\n    }\n}\n/**\n * Merge other things into a target.\n *\n * @param m_target - The target to merge into.\n * @param values - The other things.\n */\nfunction mergeOthersInto(m_target, values, utils, meta) {\n    const action = utils.mergeFunctions.mergeOthers(m_target, values, utils, meta);\n    if (action === actionsInto.defaultMerge ||\n        m_target.value === actionsInto.defaultMerge) {\n        utils.defaultMergeFunctions.mergeOthers(m_target, values);\n    }\n}\n\nexport { deepmerge, deepmergeCustom, deepmergeInto, deepmergeIntoCustom, getKeys, getObjectType, objectHasProperty };\n","/**\n * Binds all the methods on a JS Class to the `this` context of the class.\n * Adapted from https://github.com/sindresorhus/auto-bind\n * @param self The `this` context of the class\n * @return The `this` context of the class\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default function autoBind(self: any) {\n  const keys = Object.getOwnPropertyNames(self.constructor.prototype);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i] as keyof typeof self;\n    const val = self[key];\n    if (key !== 'constructor' && typeof val === 'function') {\n      self[key] = val.bind(self);\n    }\n  }\n\n  return self;\n}\n","import type { Step } from '../step.ts';\nimport { isUndefined } from './type-check.ts';\n\n/**\n * Sets up the handler to determine if we should advance the tour\n * @param step The step instance\n * @param selector\n * @private\n */\nfunction _setupAdvanceOnHandler(step: Step, selector?: string) {\n  return (event: Event) => {\n    if (step.isOpen()) {\n      const targetIsEl = step.el && event.currentTarget === step.el;\n      const targetIsSelector =\n        !isUndefined(selector) &&\n        (event.currentTarget as HTMLElement).matches(selector);\n\n      if (targetIsSelector || targetIsEl) {\n        step.tour.next();\n      }\n    }\n  };\n}\n\n/**\n * Bind the event handler for advanceOn\n * @param step The step instance\n */\nexport function bindAdvance(step: Step) {\n  // An empty selector matches the step element\n  const { event, selector } = step.options.advanceOn || {};\n  if (event) {\n    const handler = _setupAdvanceOnHandler(step, selector);\n\n    // TODO: this should also bind/unbind on show/hide\n    let el: Element | null = null;\n\n    if (!isUndefined(selector)) {\n      el = document.querySelector(selector);\n\n      if (!el) {\n        return console.error(\n          `No element was found for the selector supplied to advanceOn: ${selector}`\n        );\n      }\n    }\n\n    if (el) {\n      el.addEventListener(event, handler);\n      step.on('destroy', () => {\n        return (el as HTMLElement).removeEventListener(event, handler);\n      });\n    } else {\n      document.body.addEventListener(event, handler, true);\n      step.on('destroy', () => {\n        return document.body.removeEventListener(event, handler, true);\n      });\n    }\n  } else {\n    return console.error(\n      'advanceOn was defined, but no event name was passed.'\n    );\n  }\n}\n","import { type Tour, type TourOptions } from '../tour.ts';\nimport {\n  type StepOptionsAttachTo,\n  type Step,\n  type StepOptions\n} from '../step.ts';\nimport { isFunction, isString } from './type-check.ts';\n\nexport class StepNoOp {\n  constructor(_options: StepOptions) {}\n}\n\nexport class TourNoOp {\n  constructor(_tour: Tour, _options: TourOptions) {}\n}\n\n/**\n * Ensure class prefix ends in `-`\n * @param prefix - The prefix to prepend to the class names generated by nano-css\n * @return The prefix ending in `-`\n */\nexport function normalizePrefix(prefix?: string) {\n  if (!isString(prefix) || prefix === '') {\n    return '';\n  }\n\n  return prefix.charAt(prefix.length - 1) !== '-' ? `${prefix}-` : prefix;\n}\n\n/**\n * Resolves attachTo options, converting element option value to a qualified HTMLElement.\n * @param step - The step instance\n * @returns {{}|{element, on}}\n * `element` is a qualified HTML Element\n * `on` is a string position value\n */\nexport function parseAttachTo(step: Step) {\n  const options = step.options.attachTo || {};\n  const returnOpts = Object.assign({}, options);\n\n  if (isFunction(returnOpts.element)) {\n    // Bind the callback to step so that it has access to the object, to enable running additional logic\n    returnOpts.element = returnOpts.element.call(step);\n  }\n\n  if (isString(returnOpts.element)) {\n    // Can't override the element in user opts reference because we can't\n    // guarantee that the element will exist in the future.\n    try {\n      returnOpts.element = document.querySelector(\n        returnOpts.element\n      ) as HTMLElement;\n    } catch (e) {\n      // TODO\n    }\n    if (!returnOpts.element) {\n      console.error(\n        `The element for this Shepherd step was not found ${options.element}`\n      );\n    }\n  }\n\n  return returnOpts;\n}\n\n/**\n * Checks if the step should be centered or not. Does not trigger attachTo.element evaluation, making it a pure\n * alternative for the deprecated step.isCentered() method.\n */\nexport function shouldCenterStep(resolvedAttachToOptions: StepOptionsAttachTo) {\n  if (\n    resolvedAttachToOptions === undefined ||\n    resolvedAttachToOptions === null\n  ) {\n    return true;\n  }\n\n  return !resolvedAttachToOptions.element || !resolvedAttachToOptions.on;\n}\n\n/**\n * Create a unique id for steps, tours, modals, etc\n */\nexport function uuid() {\n  let d = Date.now();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n}\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import { deepmerge } from 'deepmerge-ts';\nimport { shouldCenterStep } from './general.ts';\nimport {\n  autoUpdate,\n  arrow,\n  computePosition,\n  flip,\n  limitShift,\n  shift,\n  type ComputePositionConfig,\n  type MiddlewareData,\n  type Placement\n} from '@floating-ui/dom';\nimport type { Step, StepOptions, StepOptionsAttachTo } from '../step.ts';\nimport { isHTMLElement } from './type-check.ts';\n\n/**\n * Determines options for the tooltip and initializes event listeners.\n *\n * @param step The step instance\n */\nexport function setupTooltip(step: Step): ComputePositionConfig {\n  if (step.cleanup) {\n    step.cleanup();\n  }\n\n  const attachToOptions = step._getResolvedAttachToOptions();\n\n  let target = attachToOptions.element as HTMLElement;\n  const floatingUIOptions = getFloatingUIOptions(attachToOptions, step);\n  const shouldCenter = shouldCenterStep(attachToOptions);\n\n  if (shouldCenter) {\n    target = document.body;\n    // @ts-expect-error TODO: fix this type error when we type Svelte\n    const content = step.shepherdElementComponent.getElement();\n    content.classList.add('shepherd-centered');\n  }\n\n  step.cleanup = autoUpdate(target, step.el as HTMLElement, () => {\n    // The element might have already been removed by the end of the tour.\n    if (!step.el) {\n      step.cleanup?.();\n      return;\n    }\n\n    setPosition(target, step, floatingUIOptions, shouldCenter);\n  });\n\n  step.target = attachToOptions.element as HTMLElement;\n\n  return floatingUIOptions;\n}\n\n/**\n * Merge tooltip options handling nested keys.\n *\n * @param tourOptions - The default tour options.\n * @param options - Step specific options.\n *\n * @return {floatingUIOptions: FloatingUIOptions}\n */\nexport function mergeTooltipConfig(\n  tourOptions: StepOptions,\n  options: StepOptions\n) {\n  return {\n    floatingUIOptions: deepmerge(\n      tourOptions.floatingUIOptions || {},\n      options.floatingUIOptions || {}\n    )\n  };\n}\n\n/**\n * Cleanup function called when the step is closed/destroyed.\n *\n * @param step\n */\nexport function destroyTooltip(step: Step) {\n  if (step.cleanup) {\n    step.cleanup();\n  }\n\n  step.cleanup = null;\n}\n\nfunction setPosition(\n  target: HTMLElement,\n  step: Step,\n  floatingUIOptions: ComputePositionConfig,\n  shouldCenter: boolean\n) {\n  return (\n    computePosition(target, step.el as HTMLElement, floatingUIOptions)\n      .then(floatingUIposition(step, shouldCenter))\n      // Wait before forcing focus.\n      .then(\n        (step: Step) =>\n          new Promise<Step>((resolve) => {\n            setTimeout(() => resolve(step), 300);\n          })\n      )\n      // Replaces focusAfterRender modifier.\n      .then((step: Step) => {\n        if (step?.el) {\n          step.el.focus({ preventScroll: true });\n        }\n      })\n  );\n}\n\nfunction floatingUIposition(step: Step, shouldCenter: boolean) {\n  return ({\n    x,\n    y,\n    placement,\n    middlewareData\n  }: {\n    x: number;\n    y: number;\n    placement: Placement;\n    middlewareData: MiddlewareData;\n  }) => {\n    if (!step.el) {\n      return step;\n    }\n\n    if (shouldCenter) {\n      Object.assign(step.el.style, {\n        position: 'fixed',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)'\n      });\n    } else {\n      Object.assign(step.el.style, {\n        position: 'absolute',\n        left: `${x}px`,\n        top: `${y}px`\n      });\n    }\n\n    step.el.dataset['popperPlacement'] = placement;\n\n    placeArrow(step.el, middlewareData);\n\n    return step;\n  };\n}\n\nfunction placeArrow(el: HTMLElement, middlewareData: MiddlewareData) {\n  const arrowEl = el.querySelector('.shepherd-arrow');\n  if (isHTMLElement(arrowEl) && middlewareData.arrow) {\n    const { x: arrowX, y: arrowY } = middlewareData.arrow;\n    Object.assign(arrowEl.style, {\n      left: arrowX != null ? `${arrowX}px` : '',\n      top: arrowY != null ? `${arrowY}px` : ''\n    });\n  }\n}\n\n/**\n * Gets the `Floating UI` options from a set of base `attachTo` options\n * @param attachToOptions\n * @param step The step instance\n * @private\n */\nexport function getFloatingUIOptions(\n  attachToOptions: StepOptionsAttachTo,\n  step: Step\n): ComputePositionConfig {\n  const options: ComputePositionConfig = {\n    strategy: 'absolute'\n  };\n\n  options.middleware = [];\n\n  const arrowEl = addArrow(step);\n\n  const shouldCenter = shouldCenterStep(attachToOptions);\n\n  if (!shouldCenter) {\n    options.middleware.push(\n      flip(),\n      // Replicate PopperJS default behavior.\n      shift({\n        limiter: limitShift(),\n        crossAxis: true\n      })\n    );\n\n    if (arrowEl) {\n      options.middleware.push(arrow({ element: arrowEl }));\n    }\n\n    options.placement = attachToOptions.on;\n  }\n\n  return deepmerge(step.options.floatingUIOptions || {}, options);\n}\n\nfunction addArrow(step: Step) {\n  if (step.options.arrow && step.el) {\n    return step.el.querySelector('.shepherd-arrow');\n  }\n\n  return false;\n}\n","/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/** @returns {{}} */\nexport function get_spread_update(levels, updates) {\n\tconst update = {};\n\tconst to_null_out = {};\n\tconst accounted_for = { $$scope: 1 };\n\tlet i = levels.length;\n\twhile (i--) {\n\t\tconst o = levels[i];\n\t\tconst n = updates[i];\n\t\tif (n) {\n\t\t\tfor (const key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\t\t\tfor (const key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (const key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (const key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\treturn update;\n}\n\nexport function get_spread_object(spread_props) {\n\treturn typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.15';\nexport const PUBLIC_VERSION = '4';\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","<script>\n  import { isFunction } from '../utils/type-check.ts';\n\n  export let config, step;\n  let action, classes, disabled, label, secondary, text;\n\n  $: {\n    action = config.action ? config.action.bind(step.tour) : null;\n    classes = config.classes;\n    disabled = config.disabled ? getConfigOption(config.disabled) : false;\n    label = config.label ? getConfigOption(config.label) : null;\n    secondary = config.secondary;\n    text = config.text ? getConfigOption(config.text) : null;\n  }\n\n  function getConfigOption(option) {\n    if (isFunction(option)) {\n      return (option = option.call(step));\n    }\n    return option;\n  }\n</script>\n\n<button\n  aria-label={label ? label : null}\n  class={`${classes || ''} shepherd-button ${\n    secondary ? 'shepherd-button-secondary' : ''\n  }`}\n  {disabled}\n  on:click={action}\n  tabindex=\"0\"\n  type=\"button\"\n>\n  {@html text}\n</button>\n\n<style global>\n  .shepherd-button {\n    background: rgb(50, 136, 230);\n    border: 0;\n    border-radius: 3px;\n    color: rgba(255, 255, 255, 0.75);\n    cursor: pointer;\n    margin-right: 0.5rem;\n    padding: 0.5rem 1.5rem;\n    transition: all 0.5s ease;\n  }\n\n  .shepherd-button:not(:disabled):hover {\n    background: rgb(25, 111, 204);\n    color: rgba(255, 255, 255, 0.75);\n  }\n\n  .shepherd-button.shepherd-button-secondary {\n    background: rgb(241, 242, 243);\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-button.shepherd-button-secondary:not(:disabled):hover {\n    background: rgb(214, 217, 219);\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-button:disabled {\n    cursor: not-allowed;\n  }\n</style>\n","<script>\n  import ShepherdButton from './shepherd-button.svelte';\n\n  export let step;\n\n  $: buttons = step.options.buttons;\n</script>\n\n<footer class=\"shepherd-footer\">\n  {#if buttons}\n    {#each buttons as config}\n      <ShepherdButton {config} {step} />\n    {/each}\n  {/if}\n</footer>\n\n<style global>\n  .shepherd-footer {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    display: flex;\n    justify-content: flex-end;\n    padding: 0 0.75rem 0.75rem;\n  }\n\n  .shepherd-footer .shepherd-button:last-child {\n    margin-right: 0;\n  }\n</style>\n","<script>\n  export let cancelIcon, step;\n\n  /**\n   * Add a click listener to the cancel link that cancels the tour\n   */\n  const handleCancelClick = (e) => {\n    e.preventDefault();\n    step.cancel();\n  };\n</script>\n\n<button\n  aria-label={cancelIcon.label ? cancelIcon.label : 'Close Tour'}\n  class=\"shepherd-cancel-icon\"\n  on:click={handleCancelClick}\n  type=\"button\"\n>\n  <span aria-hidden=\"true\">&times;</span>\n</button>\n\n<style global>\n  .shepherd-cancel-icon {\n    background: transparent;\n    border: none;\n    color: rgba(128, 128, 128, 0.75);\n    font-size: 2em;\n    cursor: pointer;\n    font-weight: normal;\n    margin: 0;\n    padding: 0;\n    transition: color 0.5s ease;\n  }\n\n  .shepherd-cancel-icon:hover {\n    color: rgba(0, 0, 0, 0.75);\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-cancel-icon {\n    color: rgba(128, 128, 128, 0.75);\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-cancel-icon:hover {\n    color: rgba(0, 0, 0, 0.75);\n  }\n</style>\n","<script>\n  import { afterUpdate } from 'svelte';\n  import { isFunction } from '../utils/type-check.ts';\n\n  export let labelId, element, title;\n\n  afterUpdate(() => {\n    if (isFunction(title)) {\n      title = title();\n    }\n\n    element.innerHTML = title;\n  });\n</script>\n\n<!-- svelte-ignore a11y-missing-content -->\n<h3 bind:this={element} id={labelId} class=\"shepherd-title\"></h3>\n\n<style global>\n  .shepherd-title {\n    color: rgba(0, 0, 0, 0.75);\n    display: flex;\n    font-size: 1rem;\n    font-weight: normal;\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0;\n  }\n</style>\n","<script>\n  import ShepherdCancelIcon from './shepherd-cancel-icon.svelte';\n  import ShepherdTitle from './shepherd-title.svelte';\n\n  export let labelId, step;\n  let title, cancelIcon;\n\n  $: {\n    title = step.options.title;\n    cancelIcon = step.options.cancelIcon;\n  }\n</script>\n\n<header class=\"shepherd-header\">\n  {#if title}\n    <ShepherdTitle {labelId} {title} />\n  {/if}\n\n  {#if cancelIcon && cancelIcon.enabled}\n    <ShepherdCancelIcon {cancelIcon} {step} />\n  {/if}\n</header>\n\n<style global>\n  .shepherd-header {\n    align-items: center;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    display: flex;\n    justify-content: flex-end;\n    line-height: 2em;\n    padding: 0.75rem 0.75rem 0;\n  }\n\n  .shepherd-has-title .shepherd-content .shepherd-header {\n    background: #e6e6e6;\n    padding: 1em;\n  }\n</style>\n","<script>\n  import { afterUpdate } from 'svelte';\n  import { isHTMLElement, isFunction } from '../utils/type-check.ts';\n\n  export let descriptionId, element, step;\n\n  afterUpdate(() => {\n    let { text } = step.options;\n\n    if (isFunction(text)) {\n      text = text.call(step);\n    }\n\n    if (isHTMLElement(text)) {\n      element.appendChild(text);\n    } else {\n      element.innerHTML = text;\n    }\n  });\n</script>\n\n<div bind:this={element} class=\"shepherd-text\" id={descriptionId}></div>\n\n<style global>\n  .shepherd-text {\n    color: rgba(0, 0, 0, 0.75);\n    font-size: 1rem;\n    line-height: 1.3em;\n    padding: 0.75em;\n  }\n\n  .shepherd-text p {\n    margin-top: 0;\n  }\n\n  .shepherd-text p:last-child {\n    margin-bottom: 0;\n  }\n</style>\n","<script>\n  import ShepherdFooter from './shepherd-footer.svelte';\n  import ShepherdHeader from './shepherd-header.svelte';\n  import ShepherdText from './shepherd-text.svelte';\n  import { isUndefined } from '../utils/type-check.ts';\n\n  export let descriptionId, labelId, step;\n</script>\n\n<div class=\"shepherd-content\">\n  {#if !isUndefined(step.options.title) || (step.options.cancelIcon && step.options.cancelIcon.enabled)}\n    <ShepherdHeader {labelId} {step} />\n  {/if}\n\n  {#if !isUndefined(step.options.text)}\n    <ShepherdText {descriptionId} {step} />\n  {/if}\n\n  {#if Array.isArray(step.options.buttons) && step.options.buttons.length}\n    <ShepherdFooter {step} />\n  {/if}\n</div>\n\n<style global>\n  .shepherd-content {\n    border-radius: 5px;\n    outline: none;\n    padding: 0;\n  }\n</style>\n","<script>\n  import { onMount, afterUpdate } from 'svelte';\n  import ShepherdContent from './shepherd-content.svelte';\n  import { isUndefined, isString } from '../utils/type-check.ts';\n\n  const KEY_TAB = 9;\n  const KEY_ESC = 27;\n  const LEFT_ARROW = 37;\n  const RIGHT_ARROW = 39;\n\n  export let classPrefix,\n    element,\n    descriptionId,\n    firstFocusableElement,\n    focusableElements,\n    labelId,\n    lastFocusableElement,\n    step,\n    dataStepId;\n\n  let hasCancelIcon, hasTitle, classes;\n\n  $: {\n    hasCancelIcon =\n      step.options &&\n      step.options.cancelIcon &&\n      step.options.cancelIcon.enabled;\n    hasTitle = step.options && step.options.title;\n  }\n\n  export const getElement = () => element;\n\n  onMount(() => {\n    // Get all elements that are focusable\n    dataStepId = { [`data-${classPrefix}shepherd-step-id`]: step.id };\n    focusableElements = element.querySelectorAll(\n      'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n    );\n    firstFocusableElement = focusableElements[0];\n    lastFocusableElement = focusableElements[focusableElements.length - 1];\n  });\n\n  afterUpdate(() => {\n    if (classes !== step.options.classes) {\n      updateDynamicClasses();\n    }\n  });\n\n  function updateDynamicClasses() {\n    removeClasses(classes);\n    classes = step.options.classes;\n    addClasses(classes);\n  }\n\n  function removeClasses(classes) {\n    if (isString(classes)) {\n      const oldClasses = getClassesArray(classes);\n      if (oldClasses.length) {\n        element.classList.remove(...oldClasses);\n      }\n    }\n  }\n\n  function addClasses(classes) {\n    if (isString(classes)) {\n      const newClasses = getClassesArray(classes);\n      if (newClasses.length) {\n        element.classList.add(...newClasses);\n      }\n    }\n  }\n\n  function getClassesArray(classes) {\n    return classes.split(' ').filter((className) => !!className.length);\n  }\n\n  /**\n   * Setup keydown events to allow closing the modal with ESC\n   *\n   * Borrowed from this great post! https://bitsofco.de/accessible-modal-dialog/\n   *\n   * @private\n   */\n  const handleKeyDown = (e) => {\n    const { tour } = step;\n    switch (e.keyCode) {\n      case KEY_TAB:\n        if (focusableElements.length === 0) {\n          e.preventDefault();\n          break;\n        }\n        // Backward tab\n        if (e.shiftKey) {\n          if (\n            document.activeElement === firstFocusableElement ||\n            document.activeElement.classList.contains('shepherd-element')\n          ) {\n            e.preventDefault();\n            lastFocusableElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastFocusableElement) {\n            e.preventDefault();\n            firstFocusableElement.focus();\n          }\n        }\n        break;\n      case KEY_ESC:\n        if (tour.options.exitOnEsc) {\n          e.preventDefault();\n          e.stopPropagation();\n          step.cancel();\n        }\n        break;\n      case LEFT_ARROW:\n        if (tour.options.keyboardNavigation) {\n          e.preventDefault();\n          e.stopPropagation();\n          tour.back();\n        }\n        break;\n      case RIGHT_ARROW:\n        if (tour.options.keyboardNavigation) {\n          e.preventDefault();\n          e.stopPropagation();\n          tour.next();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n</script>\n\n<div\n  aria-describedby={!isUndefined(step.options.text) ? descriptionId : null}\n  aria-labelledby={step.options.title ? labelId : null}\n  bind:this={element}\n  class:shepherd-has-cancel-icon={hasCancelIcon}\n  class:shepherd-has-title={hasTitle}\n  class:shepherd-element={true}\n  {...dataStepId}\n  on:keydown={handleKeyDown}\n  role=\"dialog\"\n  tabindex=\"0\"\n>\n  {#if step.options.arrow && step.options.attachTo && step.options.attachTo.element && step.options.attachTo.on}\n    <div class=\"shepherd-arrow\" data-popper-arrow></div>\n  {/if}\n  <ShepherdContent {descriptionId} {labelId} {step} />\n</div>\n\n<style global>\n  .shepherd-element {\n    background: #fff;\n    border-radius: 5px;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n    max-width: 400px;\n    opacity: 0;\n    outline: none;\n    transition:\n      opacity 0.3s,\n      visibility 0.3s;\n    visibility: hidden;\n    width: 100%;\n    z-index: 9999;\n  }\n\n  .shepherd-enabled.shepherd-element {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  .shepherd-element[data-popper-reference-hidden]:not(.shepherd-centered) {\n    opacity: 0;\n    pointer-events: none;\n    visibility: hidden;\n  }\n\n  .shepherd-element,\n  .shepherd-element *,\n  .shepherd-element *:after,\n  .shepherd-element *:before {\n    box-sizing: border-box;\n  }\n\n  .shepherd-arrow,\n  .shepherd-arrow::before {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    z-index: -1;\n  }\n\n  .shepherd-arrow:before {\n    content: '';\n    transform: rotate(45deg);\n    background: #fff;\n  }\n\n  .shepherd-element[data-popper-placement^='top'] > .shepherd-arrow {\n    bottom: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='bottom'] > .shepherd-arrow {\n    top: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='left'] > .shepherd-arrow {\n    right: -8px;\n  }\n\n  .shepherd-element[data-popper-placement^='right'] > .shepherd-arrow {\n    left: -8px;\n  }\n\n  .shepherd-element.shepherd-centered > .shepherd-arrow {\n    opacity: 0;\n  }\n\n  /**\n  * Arrow on top of tooltip centered horizontally, with title color\n  */\n  .shepherd-element.shepherd-has-title[data-popper-placement^='bottom']\n    > .shepherd-arrow::before {\n    background-color: #e6e6e6;\n  }\n\n  .shepherd-target-click-disabled.shepherd-enabled.shepherd-target,\n  .shepherd-target-click-disabled.shepherd-enabled.shepherd-target * {\n    pointer-events: none;\n  }\n</style>\n","import { deepmerge } from 'deepmerge-ts';\nimport { Evented } from './evented.ts';\nimport autoBind from './utils/auto-bind.ts';\nimport {\n  isElement,\n  isHTMLElement,\n  isFunction,\n  isUndefined\n} from './utils/type-check.ts';\nimport { bindAdvance } from './utils/bind.ts';\nimport { parseAttachTo, normalizePrefix, uuid } from './utils/general.ts';\nimport {\n  setupTooltip,\n  destroyTooltip,\n  mergeTooltipConfig\n} from './utils/floating-ui.ts';\n// @ts-expect-error TODO: we don't have Svelte .d.ts files until we generate the dist\nimport ShepherdElement from './components/shepherd-element.svelte';\nimport { type Tour } from './tour.ts';\n\nexport type StepText =\n  | string\n  | ReadonlyArray<string>\n  | HTMLElement\n  | (() => string | ReadonlyArray<string> | HTMLElement);\n\nexport type StringOrStringFunction = string | (() => string);\n\n/**\n * The options for the step\n */\nexport interface StepOptions {\n  /**\n   * The element the step should be attached to on the page.\n   * An object with properties `element` and `on`.\n   *\n   * ```js\n   * const step = new Step(tour, {\n   *   attachTo: { element: '.some .selector-path', on: 'left' },\n   *   ...moreOptions\n   * });\n   * ```\n   *\n   * If you dont specify an attachTo the element will appear in the middle of the screen.\n   * If you omit the `on` portion of `attachTo`, the element will still be highlighted, but the tooltip will appear\n   * in the middle of the screen, without an arrow pointing to the target.\n   */\n  attachTo?: StepOptionsAttachTo;\n\n  /**\n   * An action on the page which should advance shepherd to the next step.\n   * It should be an object with a string `selector` and an `event` name\n   * ```js\n   * const step = new Step(tour, {\n   *   advanceOn: { selector: '.some .selector-path', event: 'click' },\n   *   ...moreOptions\n   * });\n   * ```\n   * `event` doesnt have to be an event inside the tour, it can be any event fired on any element on the page.\n   * You can also always manually advance the Tour by calling `myTour.next()`.\n   */\n  advanceOn?: StepOptionsAdvanceOn;\n\n  /**\n   * Whether to display the arrow for the tooltip or not\n   */\n  arrow?: boolean;\n\n  /**\n   * A function that returns a promise.\n   * When the promise resolves, the rest of the `show` code for the step will execute.\n   */\n  beforeShowPromise?: () => Promise<unknown>;\n\n  /**\n   * An array of buttons to add to the step. These will be rendered in a\n   * footer below the main body text.\n   */\n  buttons?: ReadonlyArray<StepOptionsButton>;\n\n  /**\n   * Should a cancel  be shown in the header of the step?\n   */\n  cancelIcon?: StepOptionsCancelIcon;\n\n  /**\n   * A boolean, that when set to false, will set `pointer-events: none` on the target.\n   */\n  canClickTarget?: boolean;\n\n  /**\n   * A string of extra classes to add to the step's content element.\n   */\n  classes?: string;\n\n  /**\n   * An extra class to apply to the `attachTo` element when it is\n   * highlighted (that is, when its step is active). You can then target that selector in your CSS.\n   */\n  highlightClass?: string;\n\n  /**\n   * The string to use as the `id` for the step.\n   */\n  id?: string;\n\n  /**\n   * An amount of padding to add around the modal overlay opening\n   */\n  modalOverlayOpeningPadding?: number;\n\n  /**\n   * An amount of border radius to add around the modal overlay opening\n   */\n  modalOverlayOpeningRadius?:\n    | number\n    | {\n        topLeft?: number;\n        bottomLeft?: number;\n        bottomRight?: number;\n        topRight?: number;\n      };\n\n  /**\n   * An amount to offset the modal overlay opening in the x-direction\n   */\n  modalOverlayOpeningXOffset?: number;\n\n  /**\n   * An amount to offset the modal overlay opening in the y-direction\n   */\n  modalOverlayOpeningYOffset?: number;\n\n  /**\n   * Extra [options to pass to FloatingUI]{@link https://floating-ui.com/docs/tutorial/}\n   */\n  floatingUIOptions?: object;\n\n  /**\n   * Should the element be scrolled to when this step is shown?\n   */\n  scrollTo?: boolean | ScrollIntoViewOptions;\n\n  /**\n   * A function that lets you override the default scrollTo behavior and\n   * define a custom action to do the scrolling, and possibly other logic.\n   */\n  scrollToHandler?: (element: HTMLElement) => void;\n\n  /**\n   * A function that, when it returns `true`, will show the step.\n   * If it returns `false`, the step will be skipped.\n   */\n  showOn?: () => boolean;\n\n  /**\n   * The text in the body of the step. It can be one of four types:\n   * ```\n   * - HTML string\n   * - Array of HTML strings\n   * - `HTMLElement` object\n   * - `Function` to be executed when the step is built. It must return one of the three options above.\n   * ```\n   */\n  text?: StepText;\n\n  /**\n   * The step's title. It becomes an `h3` at the top of the step.\n   * ```\n   * - HTML string\n   * - `Function` to be executed when the step is built. It must return HTML string.\n   * ```\n   */\n  title?: StringOrStringFunction;\n\n  /**\n   * You can define `show`, `hide`, etc events inside `when`. For example:\n   * ```js\n   * when: {\n   *   show: function() {\n   *     window.scrollTo(0, 0);\n   *   }\n   * }\n   * ```\n   */\n  when?: StepOptionsWhen;\n}\n\nexport type PopperPlacement =\n  | 'top'\n  | 'top-start'\n  | 'top-end'\n  | 'bottom'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'right'\n  | 'right-start'\n  | 'right-end'\n  | 'left'\n  | 'left-start'\n  | 'left-end';\n\nexport interface StepOptionsAttachTo {\n  element?:\n    | HTMLElement\n    | string\n    | null\n    | (() => HTMLElement | string | null | undefined);\n  on?: PopperPlacement;\n}\n\nexport interface StepOptionsAdvanceOn {\n  event: string;\n  selector: string;\n}\n\nexport interface StepOptionsButton {\n  /**\n   * A function executed when the button is clicked on\n   * It is automatically bound to the `tour` the step is associated with, so things like `this.next` will\n   * work inside the action.\n   * You can use action to skip steps or navigate to specific steps, with something like:\n   * ```js\n   * action() {\n   *   return this.show('some_step_name');\n   * }\n   * ```\n   */\n  action?: (this: Tour) => void;\n\n  /**\n   * Extra classes to apply to the `<a>`\n   */\n  classes?: string;\n\n  /**\n   * Whether the button should be disabled\n   * When the value is `true`, or the function returns `true` the button will be disabled\n   */\n  disabled?: boolean | (() => boolean);\n\n  /**\n   * The aria-label text of the button\n   */\n  label?: StringOrStringFunction;\n\n  /**\n   * A boolean, that when true, adds a `shepherd-button-secondary` class to the button.\n   */\n  secondary?: boolean;\n\n  /**\n   * The HTML text of the button\n   */\n  text?: StringOrStringFunction;\n}\n\nexport interface StepOptionsButtonEvent {\n  [key: string]: () => void;\n}\n\nexport interface StepOptionsCancelIcon {\n  enabled?: boolean;\n  label?: string;\n}\n\nexport interface StepOptionsWhen {\n  [key: string]: (this: Step) => void;\n}\n\n/**\n * A class representing steps to be added to a tour.\n * @extends {Evented}\n */\nexport class Step extends Evented {\n  _resolvedAttachTo: StepOptionsAttachTo | null;\n  classPrefix?: string;\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  declare cleanup: Function | null;\n  el?: HTMLElement | null;\n  declare id: string;\n  declare options: StepOptions;\n  target?: HTMLElement | null;\n  tour: Tour;\n\n  constructor(tour: Tour, options: StepOptions = {}) {\n    super();\n\n    this.tour = tour;\n    this.classPrefix = this.tour.options\n      ? normalizePrefix(this.tour.options.classPrefix)\n      : '';\n    // @ts-expect-error TODO: investigate where styles comes from\n    this.styles = tour.styles;\n\n    /**\n     * Resolved attachTo options. Due to lazy evaluation, we only resolve the options during `before-show` phase.\n     * Do not use this directly, use the _getResolvedAttachToOptions method instead.\n     * @type {StepOptionsAttachTo | null}\n     * @private\n     */\n    this._resolvedAttachTo = null;\n\n    autoBind(this);\n\n    this._setOptions(options);\n\n    return this;\n  }\n\n  /**\n   * Cancel the tour\n   * Triggers the `cancel` event\n   */\n  cancel() {\n    this.tour.cancel();\n    this.trigger('cancel');\n  }\n\n  /**\n   * Complete the tour\n   * Triggers the `complete` event\n   */\n  complete() {\n    this.tour.complete();\n    this.trigger('complete');\n  }\n\n  /**\n   * Remove the step, delete the step's element, and destroy the FloatingUI instance for the step.\n   * Triggers `destroy` event\n   */\n  destroy() {\n    destroyTooltip(this);\n\n    if (isHTMLElement(this.el)) {\n      this.el.remove();\n      this.el = null;\n    }\n\n    this._updateStepTargetOnHide();\n\n    this.trigger('destroy');\n  }\n\n  /**\n   * Returns the tour for the step\n   * @return The tour instance\n   */\n  getTour() {\n    return this.tour;\n  }\n\n  /**\n   * Hide the step\n   */\n  hide() {\n    this.tour.modal?.hide();\n\n    this.trigger('before-hide');\n\n    if (this.el) {\n      this.el.hidden = true;\n    }\n\n    this._updateStepTargetOnHide();\n\n    this.trigger('hide');\n  }\n\n  /**\n   * Resolves attachTo options.\n   * @returns {{}|{element, on}}\n   */\n  _resolveAttachToOptions() {\n    this._resolvedAttachTo = parseAttachTo(this);\n    return this._resolvedAttachTo;\n  }\n\n  /**\n   * A selector for resolved attachTo options.\n   * @returns {{}|{element, on}}\n   * @private\n   */\n  _getResolvedAttachToOptions() {\n    if (this._resolvedAttachTo === null) {\n      return this._resolveAttachToOptions();\n    }\n\n    return this._resolvedAttachTo;\n  }\n\n  /**\n   * Check if the step is open and visible\n   * @return True if the step is open and visible\n   */\n  isOpen() {\n    return Boolean(this.el && !this.el.hidden);\n  }\n\n  /**\n   * Wraps `_show` and ensures `beforeShowPromise` resolves before calling show\n   */\n  show() {\n    if (isFunction(this.options.beforeShowPromise)) {\n      return Promise.resolve(this.options.beforeShowPromise()).then(() =>\n        this._show()\n      );\n    }\n    return Promise.resolve(this._show());\n  }\n\n  /**\n   * Updates the options of the step.\n   *\n   * @param {StepOptions} options The options for the step\n   */\n  updateStepOptions(options: StepOptions) {\n    Object.assign(this.options, options);\n\n    // @ts-expect-error TODO: get types for Svelte components\n    if (this.shepherdElementComponent) {\n      // @ts-expect-error TODO: get types for Svelte components\n      this.shepherdElementComponent.$set({ step: this });\n    }\n  }\n\n  /**\n   * Returns the element for the step\n   * @return {HTMLElement|null|undefined} The element instance. undefined if it has never been shown, null if it has been destroyed\n   */\n  getElement() {\n    return this.el;\n  }\n\n  /**\n   * Returns the target for the step\n   * @return {HTMLElement|null|undefined} The element instance. undefined if it has never been shown, null if query string has not been found\n   */\n  getTarget() {\n    return this.target;\n  }\n\n  /**\n   * Creates Shepherd element for step based on options\n   *\n   * @return {HTMLElement} The DOM element for the step tooltip\n   * @private\n   */\n  _createTooltipContent() {\n    const descriptionId = `${this.id}-description`;\n    const labelId = `${this.id}-label`;\n\n    // @ts-expect-error TODO: get types for Svelte components\n    this.shepherdElementComponent = new ShepherdElement({\n      target: this.tour.options.stepsContainer || document.body,\n      props: {\n        classPrefix: this.classPrefix,\n        descriptionId,\n        labelId,\n        step: this,\n        // @ts-expect-error TODO: investigate where styles comes from\n        styles: this.styles\n      }\n    });\n\n    // @ts-expect-error TODO: get types for Svelte components\n    return this.shepherdElementComponent.getElement();\n  }\n\n  /**\n   * If a custom scrollToHandler is defined, call that, otherwise do the generic\n   * scrollIntoView call.\n   *\n   * @param {boolean | ScrollIntoViewOptions} scrollToOptions - If true, uses the default `scrollIntoView`,\n   * if an object, passes that object as the params to `scrollIntoView` i.e. `{ behavior: 'smooth', block: 'center' }`\n   * @private\n   */\n  _scrollTo(scrollToOptions: boolean | ScrollIntoViewOptions) {\n    const { element } = this._getResolvedAttachToOptions();\n\n    if (isFunction(this.options.scrollToHandler)) {\n      this.options.scrollToHandler(element as HTMLElement);\n    } else if (\n      isElement(element) &&\n      typeof element.scrollIntoView === 'function'\n    ) {\n      element.scrollIntoView(scrollToOptions);\n    }\n  }\n\n  /**\n   * _getClassOptions gets all possible classes for the step\n   * @param {StepOptions} stepOptions The step specific options\n   * @returns {string} unique string from array of classes\n   */\n  _getClassOptions(stepOptions: StepOptions) {\n    const defaultStepOptions =\n      this.tour && this.tour.options && this.tour.options.defaultStepOptions;\n    const stepClasses = stepOptions.classes ? stepOptions.classes : '';\n    const defaultStepOptionsClasses =\n      defaultStepOptions && defaultStepOptions.classes\n        ? defaultStepOptions.classes\n        : '';\n    const allClasses = [\n      ...stepClasses.split(' '),\n      ...defaultStepOptionsClasses.split(' ')\n    ];\n    const uniqClasses = new Set(allClasses);\n\n    return Array.from(uniqClasses).join(' ').trim();\n  }\n\n  /**\n   * Sets the options for the step, maps `when` to events, sets up buttons\n   * @param options - The options for the step\n   */\n  _setOptions(options: StepOptions = {}) {\n    let tourOptions =\n      this.tour && this.tour.options && this.tour.options.defaultStepOptions;\n\n    tourOptions = deepmerge({}, tourOptions || {});\n\n    this.options = Object.assign(\n      {\n        arrow: true\n      },\n      tourOptions,\n      options,\n      mergeTooltipConfig(tourOptions, options)\n    );\n\n    const { when } = this.options;\n\n    this.options.classes = this._getClassOptions(options);\n\n    this.destroy();\n    this.id = this.options.id || `step-${uuid()}`;\n\n    if (when) {\n      Object.keys(when).forEach((event) => {\n        // @ts-expect-error TODO: fix this type error\n        this.on(event, when[event], this);\n      });\n    }\n  }\n\n  /**\n   * Create the element and set up the FloatingUI instance\n   * @private\n   */\n  _setupElements() {\n    if (!isUndefined(this.el)) {\n      this.destroy();\n    }\n\n    this.el = this._createTooltipContent();\n\n    if (this.options.advanceOn) {\n      bindAdvance(this);\n    }\n\n    // The tooltip implementation details are handled outside of the Step\n    // object.\n    setupTooltip(this);\n  }\n\n  /**\n   * Triggers `before-show`, generates the tooltip DOM content,\n   * sets up a FloatingUI instance for the tooltip, then triggers `show`.\n   * @private\n   */\n  _show() {\n    this.trigger('before-show');\n\n    // Force resolve to make sure the options are updated on subsequent shows.\n    this._resolveAttachToOptions();\n    this._setupElements();\n\n    if (!this.tour.modal) {\n      this.tour.setupModal();\n    }\n\n    this.tour.modal?.setupForStep(this);\n    this._styleTargetElementForStep(this);\n\n    if (this.el) {\n      this.el.hidden = false;\n    }\n\n    // start scrolling to target before showing the step\n    if (this.options.scrollTo) {\n      setTimeout(() => {\n        this._scrollTo(\n          this.options.scrollTo as boolean | ScrollIntoViewOptions\n        );\n      });\n    }\n\n    if (this.el) {\n      this.el.hidden = false;\n    }\n\n    // @ts-expect-error TODO: get types for Svelte components\n    const content = this.shepherdElementComponent.getElement();\n    const target = this.target || document.body;\n    target.classList.add(`${this.classPrefix}shepherd-enabled`);\n    target.classList.add(`${this.classPrefix}shepherd-target`);\n    content.classList.add('shepherd-enabled');\n\n    this.trigger('show');\n  }\n\n  /**\n   * Modulates the styles of the passed step's target element, based on the step's options and\n   * the tour's `modal` option, to visually emphasize the element\n   *\n   * @param {Step} step The step object that attaches to the element\n   * @private\n   */\n  _styleTargetElementForStep(step: Step) {\n    const targetElement = step.target;\n\n    if (!targetElement) {\n      return;\n    }\n\n    if (step.options.highlightClass) {\n      targetElement.classList.add(step.options.highlightClass);\n    }\n\n    targetElement.classList.remove('shepherd-target-click-disabled');\n\n    if (step.options.canClickTarget === false) {\n      targetElement.classList.add('shepherd-target-click-disabled');\n    }\n  }\n\n  /**\n   * When a step is hidden, remove the highlightClass and 'shepherd-enabled'\n   * and 'shepherd-target' classes\n   * @private\n   */\n  _updateStepTargetOnHide() {\n    const target = this.target || document.body;\n\n    if (this.options.highlightClass) {\n      target.classList.remove(this.options.highlightClass);\n    }\n\n    target.classList.remove(\n      'shepherd-target-click-disabled',\n      `${this.classPrefix}shepherd-enabled`,\n      `${this.classPrefix}shepherd-target`\n    );\n  }\n}\n","declare global {\n  interface Window {\n    opera: unknown;\n  }\n}\n\nexport function getContext(window: Window) {\n  let context = {};\n  if (window.navigator) {\n    const userAgent = window.navigator.userAgent;\n    context = {\n      ...context,\n      $os: os(window),\n      $browser: browser(userAgent, window.navigator.vendor, !!window.opera),\n      $referrer: window.document.referrer,\n      $referring_domain: referringDomain(window.document.referrer),\n      $device: device(userAgent),\n      $current_url: window.location.href,\n      $host: window.location.host,\n      $pathname: window.location.pathname,\n      $browser_version: browserVersion(\n        userAgent,\n        window.navigator.vendor,\n        !!window.opera\n      ),\n      $screen_height: window.screen.height,\n      $screen_width: window.screen.width,\n      $screen_dpr: window.devicePixelRatio\n    };\n  }\n  context = {\n    ...context,\n    $lib: 'js',\n    // $lib_version: version,\n    $insert_id:\n      Math.random().toString(36).substring(2, 10) +\n      Math.random().toString(36).substring(2, 10),\n    $time: new Date().getTime() / 1000 // epoch time in seconds\n  };\n  return context; // TODO: strip empty props?\n}\n\nfunction includes(haystack: string, needle: string): boolean {\n  return haystack.indexOf(needle) >= 0;\n}\n\nfunction browser(userAgent: string, vendor: string, opera: boolean): string {\n  vendor = vendor || ''; // vendor is undefined for at least IE9\n  if (opera || includes(userAgent, ' OPR/')) {\n    if (includes(userAgent, 'Mini')) {\n      return 'Opera Mini';\n    }\n    return 'Opera';\n  } else if (/(BlackBerry|PlayBook|BB10)/i.test(userAgent)) {\n    return 'BlackBerry';\n  } else if (\n    includes(userAgent, 'IEMobile') ||\n    includes(userAgent, 'WPDesktop')\n  ) {\n    return 'Internet Explorer Mobile';\n  } else if (includes(userAgent, 'SamsungBrowser/')) {\n    // https://developer.samsung.com/internet/user-agent-string-format\n    return 'Samsung Internet';\n  } else if (includes(userAgent, 'Edge') || includes(userAgent, 'Edg/')) {\n    return 'Microsoft Edge';\n  } else if (includes(userAgent, 'FBIOS')) {\n    return 'Facebook Mobile';\n  } else if (includes(userAgent, 'Chrome')) {\n    return 'Chrome';\n  } else if (includes(userAgent, 'CriOS')) {\n    return 'Chrome iOS';\n  } else if (includes(userAgent, 'UCWEB') || includes(userAgent, 'UCBrowser')) {\n    return 'UC Browser';\n  } else if (includes(userAgent, 'FxiOS')) {\n    return 'Firefox iOS';\n  } else if (includes(vendor, 'Apple')) {\n    if (includes(userAgent, 'Mobile')) {\n      return 'Mobile Safari';\n    }\n    return 'Safari';\n  } else if (includes(userAgent, 'Android')) {\n    return 'Android Mobile';\n  } else if (includes(userAgent, 'Konqueror')) {\n    return 'Konqueror';\n  } else if (includes(userAgent, 'Firefox')) {\n    return 'Firefox';\n  } else if (includes(userAgent, 'MSIE') || includes(userAgent, 'Trident/')) {\n    return 'Internet Explorer';\n  } else if (includes(userAgent, 'Gecko')) {\n    return 'Mozilla';\n  } else {\n    return '';\n  }\n}\n\nfunction browserVersion(\n  userAgent: string,\n  vendor: string,\n  opera: boolean\n): number | null {\n  const regexList = {\n    'Internet Explorer Mobile': /rv:(\\d+(\\.\\d+)?)/,\n    'Microsoft Edge': /Edge?\\/(\\d+(\\.\\d+)?)/,\n    Chrome: /Chrome\\/(\\d+(\\.\\d+)?)/,\n    'Chrome iOS': /CriOS\\/(\\d+(\\.\\d+)?)/,\n    'UC Browser': /(UCBrowser|UCWEB)\\/(\\d+(\\.\\d+)?)/,\n    Safari: /Version\\/(\\d+(\\.\\d+)?)/,\n    'Mobile Safari': /Version\\/(\\d+(\\.\\d+)?)/,\n    Opera: /(Opera|OPR)\\/(\\d+(\\.\\d+)?)/,\n    Firefox: /Firefox\\/(\\d+(\\.\\d+)?)/,\n    'Firefox iOS': /FxiOS\\/(\\d+(\\.\\d+)?)/,\n    Konqueror: /Konqueror:(\\d+(\\.\\d+)?)/,\n    BlackBerry: /BlackBerry (\\d+(\\.\\d+)?)/,\n    'Android Mobile': /android\\s(\\d+(\\.\\d+)?)/,\n    'Samsung Internet': /SamsungBrowser\\/(\\d+(\\.\\d+)?)/,\n    'Internet Explorer': /(rv:|MSIE )(\\d+(\\.\\d+)?)/,\n    Mozilla: /rv:(\\d+(\\.\\d+)?)/\n  };\n\n  const browserString = browser(\n    userAgent,\n    vendor,\n    opera\n  ) as keyof typeof regexList;\n  const regex: RegExp = regexList[browserString] || undefined;\n\n  if (regex === undefined) {\n    return null;\n  }\n  const matches = userAgent.match(regex);\n  if (!matches) {\n    return null;\n  }\n  return parseFloat(matches[matches.length - 2] as string);\n}\n\nfunction os(window: Window): string {\n  const a = window.navigator.userAgent;\n  if (/Windows/i.test(a)) {\n    if (/Phone/.test(a) || /WPDesktop/.test(a)) {\n      return 'Windows Phone';\n    }\n    return 'Windows';\n  } else if (/(iPhone|iPad|iPod)/.test(a)) {\n    return 'iOS';\n  } else if (/Android/.test(a)) {\n    return 'Android';\n  } else if (/(BlackBerry|PlayBook|BB10)/i.test(a)) {\n    return 'BlackBerry';\n  } else if (/Mac/i.test(a)) {\n    return 'Mac OS X';\n  } else if (/Linux/.test(a)) {\n    return 'Linux';\n  } else if (/CrOS/.test(a)) {\n    return 'Chrome OS';\n  } else {\n    return '';\n  }\n}\n\nfunction device(userAgent: string): string {\n  if (/Windows Phone/i.test(userAgent) || /WPDesktop/.test(userAgent)) {\n    return 'Windows Phone';\n  } else if (/iPad/.test(userAgent)) {\n    return 'iPad';\n  } else if (/iPod/.test(userAgent)) {\n    return 'iPod Touch';\n  } else if (/iPhone/.test(userAgent)) {\n    return 'iPhone';\n  } else if (/(BlackBerry|PlayBook|BB10)/i.test(userAgent)) {\n    return 'BlackBerry';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else {\n    return '';\n  }\n}\n\nfunction referringDomain(referrer: string): string {\n  const split = referrer.split('/');\n  if (split.length >= 3) {\n    return split[2] as string;\n  }\n  return '';\n}\n","import type { Tour } from '../tour.ts';\nimport { isHTMLElement } from './type-check.ts';\n\n/**\n * Cleanup the steps and set pointerEvents back to 'auto'\n * @param tour The tour object\n */\nexport function cleanupSteps(tour: Tour) {\n  if (tour) {\n    const { steps } = tour;\n\n    steps.forEach((step) => {\n      if (\n        step.options &&\n        step.options.canClickTarget === false &&\n        step.options.attachTo\n      ) {\n        if (isHTMLElement(step.target)) {\n          step.target.classList.remove('shepherd-target-click-disabled');\n        }\n      }\n    });\n  }\n}\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","import { openDB, type DBSchema, type IDBPDatabase } from 'idb';\n\ninterface ActorResponse {\n  data: Record<string, unknown>;\n}\n\ninterface TourStateDb extends DBSchema {\n  tours: {\n    key: string;\n    value: { isActive: boolean; uniqueId: string };\n  };\n}\n\nclass DataRequest {\n  private apiKey: string;\n  private apiPath: string;\n  private properties?: { [key: string]: unknown };\n  tourStateDb?: IDBPDatabase<TourStateDb>;\n\n  constructor(\n    apiKey?: string,\n    apiPath?: string,\n    properties?: { [key: string]: unknown }\n  ) {\n    if (!apiKey) {\n      throw new Error('Shepherd Pro: Missing required apiKey option.');\n    }\n    if (!apiPath) {\n      throw new Error('Shepherd Pro: Missing required apiPath option.');\n    }\n\n    this.apiKey = apiKey;\n    this.apiPath = apiPath;\n    this.properties = properties;\n  }\n\n  /**\n   * Gets a list of the state for all the tours associated with a given apiKey\n   */\n  async getTourState() {\n    try {\n      const response = await fetch(`${this.apiPath}/api/v1/state`, {\n        headers: {\n          Authorization: `ApiKey ${this.apiKey}`,\n          'Content-Type': 'application/json'\n        },\n        method: 'GET'\n      });\n\n      if (!response.ok) {\n        throw new Error('Could not fetch state for tours ');\n      }\n\n      const { data } = await response.json();\n\n      this.tourStateDb = await openDB<TourStateDb>('TourState', 1, {\n        upgrade(db) {\n          db.createObjectStore('tours', {\n            keyPath: 'uniqueId'\n          });\n        }\n      });\n\n      if (Array.isArray(data) && data.length) {\n        const tx = this.tourStateDb.transaction('tours', 'readwrite');\n        const tourAddTxs = data.map((tourState) => {\n          return tx.store.put(tourState);\n        });\n\n        await Promise.all([...tourAddTxs, tx.done]);\n      }\n    } catch (error) {\n      throw new Error(\n        'Error fetching data: ' +\n          (error instanceof Error ? error.message : 'Unknown error')\n      );\n    }\n  }\n\n  /**\n   * Send events to the ShepherdPro API\n   * @param body The data to send for the event\n   */\n  async sendEvents(body: { data: Record<string, unknown> }) {\n    body.data['properties'] = this.properties;\n\n    try {\n      const response = await fetch(`${this.apiPath}/api/v1/actor`, {\n        headers: {\n          Authorization: `ApiKey ${this.apiKey}`,\n          'Content-Type': 'application/json'\n        },\n        method: 'POST',\n        body: JSON.stringify(body)\n      });\n\n      if (!response.ok) {\n        throw new Error('Could not create an event ');\n      }\n      const { data } = (await response.json()) as ActorResponse;\n\n      return data;\n    } catch (error) {\n      throw new Error(\n        'Error fetching data: ' +\n          (error instanceof Error ? error.message : 'Unknown error')\n      );\n    }\n  }\n}\n\nexport default DataRequest;\n","interface OverlayPathParams {\n  height: number;\n  r?:\n    | number\n    | {\n        bottomLeft: number;\n        bottomRight: number;\n        topLeft: number;\n        topRight: number;\n      };\n  x?: number;\n  y?: number;\n  width: number;\n}\n/**\n * Generates the svg path data for a rounded rectangle overlay\n * @param dimension - Dimensions of rectangle.\n * @param dimension.width - Width.\n * @param dimension.height - Height.\n * @param dimension.x - Offset from top left corner in x axis. default 0.\n * @param dimension.y - Offset from top left corner in y axis. default 0.\n * @param dimension.r - Corner Radius. Keep this smaller than half of width or height.\n * @returns Rounded rectangle overlay path data.\n */\nexport function makeOverlayPath({\n  width,\n  height,\n  x = 0,\n  y = 0,\n  r = 0\n}: OverlayPathParams) {\n  const { innerWidth: w, innerHeight: h } = window;\n  const {\n    topLeft = 0,\n    topRight = 0,\n    bottomRight = 0,\n    bottomLeft = 0\n  } = typeof r === 'number'\n    ? { topLeft: r, topRight: r, bottomRight: r, bottomLeft: r }\n    : r;\n\n  return `M${w},${h}\\\nH0\\\nV0\\\nH${w}\\\nV${h}\\\nZ\\\nM${x + topLeft},${y}\\\na${topLeft},${topLeft},0,0,0-${topLeft},${topLeft}\\\nV${height + y - bottomLeft}\\\na${bottomLeft},${bottomLeft},0,0,0,${bottomLeft},${bottomLeft}\\\nH${width + x - bottomRight}\\\na${bottomRight},${bottomRight},0,0,0,${bottomRight}-${bottomRight}\\\nV${y + topRight}\\\na${topRight},${topRight},0,0,0-${topRight}-${topRight}\\\nZ`;\n}\n","<script>\n  import { makeOverlayPath } from '../utils/overlay-path.ts';\n\n  export let element, openingProperties;\n  let modalIsVisible = false;\n  let rafId = undefined;\n  let pathDefinition;\n\n  $: pathDefinition = makeOverlayPath(openingProperties);\n\n  closeModalOpening();\n\n  export const getElement = () => element;\n\n  export function closeModalOpening() {\n    openingProperties = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0,\n      r: 0\n    };\n  }\n\n  /**\n   * Hide the modal overlay\n   */\n  export function hide() {\n    modalIsVisible = false;\n\n    // Ensure we cleanup all event listeners when we hide the modal\n    _cleanupStepEventListeners();\n  }\n\n  /**\n   * Uses the bounds of the element we want the opening overtop of to set the dimensions of the opening and position it\n   * @param {Number} modalOverlayOpeningPadding An amount of padding to add around the modal overlay opening\n   * @param {Number | { topLeft: Number, bottomLeft: Number, bottomRight: Number, topRight: Number }} modalOverlayOpeningRadius An amount of border radius to add around the modal overlay opening\n   * @param {Number} modalOverlayOpeningXOffset An amount to offset the modal overlay opening in the x-direction\n   * @param {Number} modalOverlayOpeningYOffset An amount to offset the modal overlay opening in the y-direction\n   * @param {HTMLElement} scrollParent The scrollable parent of the target element\n   * @param {HTMLElement} targetElement The element the opening will expose\n   */\n  export function positionModal(\n    modalOverlayOpeningPadding = 0,\n    modalOverlayOpeningRadius = 0,\n    modalOverlayOpeningXOffset = 0,\n    modalOverlayOpeningYOffset = 0,\n    scrollParent,\n    targetElement\n  ) {\n    if (targetElement) {\n      const { y, height } = _getVisibleHeight(targetElement, scrollParent);\n      const { x, width, left } = targetElement.getBoundingClientRect();\n\n      // getBoundingClientRect is not consistent. Some browsers use x and y, while others use left and top\n      openingProperties = {\n        width: width + modalOverlayOpeningPadding * 2,\n        height: height + modalOverlayOpeningPadding * 2,\n        x:\n          (x || left) + modalOverlayOpeningXOffset - modalOverlayOpeningPadding,\n        y: y + modalOverlayOpeningYOffset - modalOverlayOpeningPadding,\n        r: modalOverlayOpeningRadius\n      };\n    } else {\n      closeModalOpening();\n    }\n  }\n\n  /**\n   * If modal is enabled, setup the svg mask opening and modal overlay for the step\n   * @param {Step} step The step instance\n   */\n  export function setupForStep(step) {\n    // Ensure we move listeners from the previous step, before we setup new ones\n    _cleanupStepEventListeners();\n\n    if (step.tour.options.useModalOverlay) {\n      _styleForStep(step);\n      show();\n    } else {\n      hide();\n    }\n  }\n\n  /**\n   * Show the modal overlay\n   */\n  export function show() {\n    modalIsVisible = true;\n  }\n\n  const _preventModalBodyTouch = (e) => {\n    e.preventDefault();\n  };\n\n  const _preventModalOverlayTouch = (e) => {\n    e.stopPropagation();\n  };\n\n  /**\n   * Add touchmove event listener\n   * @private\n   */\n  function _addStepEventListeners() {\n    // Prevents window from moving on touch.\n    window.addEventListener('touchmove', _preventModalBodyTouch, {\n      passive: false\n    });\n  }\n\n  /**\n   * Cancel the requestAnimationFrame loop and remove touchmove event listeners\n   * @private\n   */\n  function _cleanupStepEventListeners() {\n    if (rafId) {\n      cancelAnimationFrame(rafId);\n      rafId = undefined;\n    }\n\n    window.removeEventListener('touchmove', _preventModalBodyTouch, {\n      passive: false\n    });\n  }\n\n  /**\n   * Style the modal for the step\n   * @param {Step} step The step to style the opening for\n   * @private\n   */\n  function _styleForStep(step) {\n    const {\n      modalOverlayOpeningPadding,\n      modalOverlayOpeningRadius,\n      modalOverlayOpeningXOffset = 0,\n      modalOverlayOpeningYOffset = 0\n    } = step.options;\n\n    const iframeOffset = _getIframeOffset(step.target);\n    const scrollParent = _getScrollParent(step.target);\n\n    // Setup recursive function to call requestAnimationFrame to update the modal opening position\n    const rafLoop = () => {\n      rafId = undefined;\n      positionModal(\n        modalOverlayOpeningPadding,\n        modalOverlayOpeningRadius,\n        modalOverlayOpeningXOffset + iframeOffset.left,\n        modalOverlayOpeningYOffset + iframeOffset.top,\n        scrollParent,\n        step.target\n      );\n      rafId = requestAnimationFrame(rafLoop);\n    };\n\n    rafLoop();\n\n    _addStepEventListeners();\n  }\n\n  /**\n   * Find the closest scrollable parent element\n   * @param {HTMLElement} element The target element\n   * @returns {HTMLElement}\n   * @private\n   */\n  function _getScrollParent(element) {\n    if (!element) {\n      return null;\n    }\n\n    const isHtmlElement = element instanceof HTMLElement;\n    const overflowY =\n      isHtmlElement && window.getComputedStyle(element).overflowY;\n    const isScrollable = overflowY !== 'hidden' && overflowY !== 'visible';\n\n    if (isScrollable && element.scrollHeight >= element.clientHeight) {\n      return element;\n    }\n\n    return _getScrollParent(element.parentElement);\n  }\n\n  /**\n   * Get the top and left offset required to position the modal overlay cutout\n   * when the target element is within an iframe\n   * @param {HTMLElement} element The target element\n   * @private\n   */\n  function _getIframeOffset(element) {\n    let offset = {\n      top: 0,\n      left: 0\n    };\n\n    if (!element) {\n      return offset;\n    }\n\n    let targetWindow = element.ownerDocument.defaultView;\n\n    while (targetWindow !== window.top) {\n      const targetIframe = targetWindow?.frameElement;\n\n      if (targetIframe) {\n        const targetIframeRect = targetIframe.getBoundingClientRect();\n\n        offset.top += targetIframeRect.top + (targetIframeRect.scrollTop ?? 0);\n        offset.left +=\n          targetIframeRect.left + (targetIframeRect.scrollLeft ?? 0);\n      }\n\n      targetWindow = targetWindow.parent;\n    }\n\n    return offset;\n  }\n\n  /**\n   * Get the visible height of the target element relative to its scrollParent.\n   * If there is no scroll parent, the height of the element is returned.\n   *\n   * @param {HTMLElement} element The target element\n   * @param {HTMLElement} [scrollParent] The scrollable parent element\n   * @returns {{y: number, height: number}}\n   * @private\n   */\n  function _getVisibleHeight(element, scrollParent) {\n    const elementRect = element.getBoundingClientRect();\n    let top = elementRect.y || elementRect.top;\n    let bottom = elementRect.bottom || top + elementRect.height;\n\n    if (scrollParent) {\n      const scrollRect = scrollParent.getBoundingClientRect();\n      const scrollTop = scrollRect.y || scrollRect.top;\n      const scrollBottom = scrollRect.bottom || scrollTop + scrollRect.height;\n\n      top = Math.max(top, scrollTop);\n      bottom = Math.min(bottom, scrollBottom);\n    }\n\n    const height = Math.max(bottom - top, 0); // Default to 0 if height is negative\n\n    return { y: top, height };\n  }\n</script>\n\n<svg\n  bind:this={element}\n  class={`${\n    modalIsVisible ? 'shepherd-modal-is-visible' : ''\n  } shepherd-modal-overlay-container`}\n  on:touchmove={_preventModalOverlayTouch}\n>\n  <path d={pathDefinition} />\n</svg>\n\n<style global>\n  .shepherd-modal-overlay-container {\n    height: 0;\n    left: 0;\n    opacity: 0;\n    overflow: hidden;\n    pointer-events: none;\n    position: fixed;\n    top: 0;\n    transition:\n      all 0.3s ease-out,\n      height 0ms 0.3s,\n      opacity 0.3s 0ms;\n    width: 100vw;\n    z-index: 9997;\n  }\n\n  .shepherd-modal-overlay-container.shepherd-modal-is-visible {\n    height: 100vh;\n    opacity: 0.5;\n    transition:\n      all 0.3s ease-out,\n      height 0s 0s,\n      opacity 0.3s 0s;\n    transform: translateZ(0);\n  }\n\n  .shepherd-modal-overlay-container.shepherd-modal-is-visible path {\n    pointer-events: all;\n  }\n</style>\n","import { Evented } from './evented.ts';\nimport { Step, type StepOptions } from './step.ts';\nimport autoBind from './utils/auto-bind.ts';\nimport { getContext } from './utils/context.ts';\nimport {\n  isHTMLElement,\n  isFunction,\n  isString,\n  isUndefined\n} from './utils/type-check.ts';\nimport { cleanupSteps } from './utils/cleanup.ts';\nimport DataRequest from './utils/datarequest.ts';\nimport { normalizePrefix, uuid } from './utils/general.ts';\n// @ts-expect-error TODO: we don't have Svelte .d.ts files until we generate the dist\nimport ShepherdModal from './components/shepherd-modal.svelte';\n\nexport interface Actor {\n  actorId: number;\n}\n\nexport interface EventOptions {\n  previous?: Step | null;\n  step?: Step | null;\n  tour: Tour;\n}\n\nexport type TourConfirmCancel =\n  | boolean\n  | (() => boolean)\n  | Promise<boolean>\n  | (() => Promise<boolean>);\n\n/**\n * The options for the tour\n */\nexport interface TourOptions {\n  /**\n   * If true, will issue a `window.confirm` before cancelling.\n   * If it is a function(support Async Function), it will be called and wait for the return value,\n   * and will only be cancelled if the value returned is true.\n   */\n  confirmCancel?: TourConfirmCancel;\n  /**\n   * The message to display in the `window.confirm` dialog.\n   */\n  confirmCancelMessage?: string;\n  /**\n   * The prefix to add to the `shepherd-enabled` and `shepherd-target` class names as well as the `data-shepherd-step-id`.\n   */\n  classPrefix?: string;\n  /**\n   * Default options for Steps ({@link Step#constructor}), created through `addStep`.\n   */\n  defaultStepOptions?: StepOptions;\n  /**\n   * Exiting the tour with the escape key will be enabled unless this is explicitly\n   * set to false.\n   */\n  exitOnEsc?: boolean;\n  /**\n   * Explicitly set the id for the tour. If not set, the id will be a generated uuid.\n   */\n  id?: string;\n  /**\n   * Navigating the tour via left and right arrow keys will be enabled\n   * unless this is explicitly set to false.\n   */\n  keyboardNavigation?: boolean;\n  /**\n   * An optional container element for the modal.\n   * If not set, the modal will be appended to `document.body`.\n   */\n  modalContainer?: HTMLElement;\n  /**\n   * An optional container element for the steps.\n   * If not set, the steps will be appended to `document.body`.\n   */\n  stepsContainer?: HTMLElement;\n  /**\n   * An array of step options objects or Step instances to initialize the tour with.\n   */\n  steps?: Array<StepOptions> | Array<Step>;\n  /**\n   * An optional \"name\" for the tour. This will be appended to the the tour's\n   * dynamically generated `id` property.\n   */\n  tourName?: string;\n  /**\n   * Whether or not steps should be placed above a darkened\n   * modal overlay. If true, the overlay will create an opening around the target element so that it\n   * can remain interactive\n   */\n  useModalOverlay?: boolean;\n}\n\nconst SHEPHERD_DEFAULT_API = 'https://shepherdpro.com' as const;\nconst SHEPHERD_USER_ID = 'shepherdPro:userId' as const;\n\nexport class ShepherdPro extends Evented {\n  // Shepherd Pro fields\n  apiKey?: string;\n  apiPath?: string;\n  dataRequester?: DataRequest;\n  isProEnabled = false;\n  /**\n   * Extra properties to pass to Shepherd Pro\n   */\n  properties?: { [key: string]: unknown };\n\n  // Vanilla Shepherd\n  activeTour?: Tour | null;\n  declare Step: typeof Step;\n  declare Tour: typeof Tour;\n\n  /**\n   * Call init to take full advantage of ShepherdPro functionality\n   * @param {string} apiKey The API key for your ShepherdPro account\n   * @param {string} apiPath\n   * @param {object} properties Extra properties to be passed to Shepherd Pro\n   */\n  async init(\n    apiKey?: string,\n    apiPath?: string,\n    properties?: { [key: string]: unknown }\n  ) {\n    if (!apiKey) {\n      throw new Error('Shepherd Pro: Missing required apiKey option.');\n    }\n\n    this.apiKey = apiKey;\n    this.apiPath = apiPath ?? SHEPHERD_DEFAULT_API;\n    this.properties = properties ?? {};\n    this.properties['context'] = getContext(window);\n\n    if (this.apiKey) {\n      this.dataRequester = new DataRequest(\n        this.apiKey,\n        this.apiPath,\n        this.properties\n      );\n      this.isProEnabled = true;\n      // Setup actor before first tour is loaded if none exists\n      const shepherdProId = localStorage.getItem(SHEPHERD_USER_ID);\n\n      const promises = [this.dataRequester.getTourState()];\n\n      if (!shepherdProId) {\n        promises.push(this.createNewActor());\n      }\n\n      await Promise.all(promises);\n    }\n  }\n\n  async createNewActor() {\n    if (!this.dataRequester) return;\n\n    // Setup type returns an actor\n    const response = (await this.dataRequester.sendEvents({\n      data: {\n        currentUserId: null,\n        eventType: 'setup'\n      }\n    })) as unknown as Actor;\n\n    localStorage.setItem(SHEPHERD_USER_ID, String(response.actorId));\n  }\n\n  /**\n   * Checks if a given tour's id is enabled\n   * @param tourId A string denoting the id of the tour\n   */\n  async isTourEnabled(tourId: string) {\n    if (!this.dataRequester) return;\n\n    const tourState = await this.dataRequester.tourStateDb?.get(\n      'tours',\n      tourId\n    );\n\n    return tourState?.isActive ?? true;\n  }\n}\n\n/**\n * Class representing the site tour\n * @extends {Evented}\n */\nexport class Tour extends Evented {\n  trackedEvents = ['active', 'cancel', 'complete', 'show'];\n\n  classPrefix: string;\n  currentStep?: Step | null;\n  focusedElBeforeOpen?: HTMLElement | null;\n  id?: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  modal?: any | null;\n  options: TourOptions;\n  steps: Array<Step>;\n\n  constructor(options: TourOptions = {}) {\n    super();\n\n    autoBind(this);\n\n    const defaultTourOptions = {\n      exitOnEsc: true,\n      keyboardNavigation: true\n    };\n\n    this.options = Object.assign({}, defaultTourOptions, options);\n    this.classPrefix = normalizePrefix(this.options.classPrefix);\n    this.steps = [];\n    this.addSteps(this.options.steps);\n\n    // Pass these events onto the global Shepherd object\n    const events = [\n      'active',\n      'cancel',\n      'complete',\n      'inactive',\n      'show',\n      'start'\n    ];\n    events.map((event) => {\n      ((e) => {\n        this.on(e, (opts?: { [key: string]: unknown }) => {\n          opts = opts || {};\n          opts['tour'] = this;\n          Shepherd.trigger(e, opts);\n        });\n      })(event);\n    });\n\n    this._setTourID(options.id);\n\n    const { dataRequester } = Shepherd;\n    // If we have an API key, then setup Pro features\n    if (dataRequester) {\n      this.trackedEvents.forEach((event) =>\n        this.on(event, (opts: EventOptions) => {\n          const { tour } = opts;\n          const { id, steps } = tour;\n          let position;\n\n          if (event !== 'active') {\n            const { step: currentStep } = opts;\n\n            if (currentStep) {\n              position =\n                steps.findIndex((step) => step.id === currentStep.id) + 1;\n            }\n          }\n\n          const data = {\n            currentUserId: localStorage.getItem(SHEPHERD_USER_ID),\n            eventType: event,\n            journeyData: {\n              id,\n              currentStep: position,\n              numberOfSteps: steps.length,\n              tourOptions: tour.options\n            }\n          };\n          dataRequester.sendEvents({ data });\n        })\n      );\n    }\n\n    return this;\n  }\n\n  /**\n   * Adds a new step to the tour\n   * @param {StepOptions} options - An object containing step options or a Step instance\n   * @param {number | undefined} index - The optional index to insert the step at. If undefined, the step\n   * is added to the end of the array.\n   * @return The newly added step\n   */\n  addStep(options: StepOptions | Step, index?: number) {\n    let step = options;\n\n    if (!(step instanceof Step)) {\n      step = new Step(this, step);\n    } else {\n      step.tour = this;\n    }\n\n    if (!isUndefined(index)) {\n      this.steps.splice(index, 0, step as Step);\n    } else {\n      this.steps.push(step as Step);\n    }\n\n    return step;\n  }\n\n  /**\n   * Add multiple steps to the tour\n   * @param {Array<StepOptions> | Array<Step> | undefined} steps - The steps to add to the tour\n   */\n  addSteps(steps?: Array<StepOptions> | Array<Step>) {\n    if (Array.isArray(steps)) {\n      steps.forEach((step) => {\n        this.addStep(step);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Go to the previous step in the tour\n   */\n  back() {\n    const index = this.steps.indexOf(this.currentStep as Step);\n    this.show(index - 1, false);\n  }\n\n  /**\n   * Calls _done() triggering the 'cancel' event\n   * If `confirmCancel` is true, will show a window.confirm before cancelling\n   * If `confirmCancel` is a function, will call it and wait for the return value,\n   * and only cancel when the value returned is true\n   */\n  async cancel() {\n    if (this.options.confirmCancel) {\n      const cancelMessage =\n        this.options.confirmCancelMessage ||\n        'Are you sure you want to stop the tour?';\n      let stopTour;\n\n      if (isFunction(this.options.confirmCancel)) {\n        stopTour = await this.options.confirmCancel();\n      } else {\n        stopTour = window.confirm(cancelMessage);\n      }\n\n      if (stopTour) {\n        this._done('cancel');\n      }\n    } else {\n      this._done('cancel');\n    }\n  }\n\n  /**\n   * Calls _done() triggering the `complete` event\n   */\n  complete() {\n    this._done('complete');\n  }\n\n  /**\n   * Gets the step from a given id\n   * @param {number | string} id - The id of the step to retrieve\n   * @return The step corresponding to the `id`\n   */\n  getById(id: number | string) {\n    return this.steps.find((step) => {\n      return step.id === id;\n    });\n  }\n\n  /**\n   * Gets the current step\n   */\n  getCurrentStep() {\n    return this.currentStep;\n  }\n\n  /**\n   * Hide the current step\n   */\n  hide() {\n    const currentStep = this.getCurrentStep();\n\n    if (currentStep) {\n      return currentStep.hide();\n    }\n  }\n\n  /**\n   * Check if the tour is active\n   */\n  isActive() {\n    return Shepherd.activeTour === this;\n  }\n\n  /**\n   * Go to the next step in the tour\n   * If we are at the end, call `complete`\n   */\n  next() {\n    const index = this.steps.indexOf(this.currentStep as Step);\n\n    if (index === this.steps.length - 1) {\n      this.complete();\n    } else {\n      this.show(index + 1, true);\n    }\n  }\n\n  /**\n   * Removes the step from the tour\n   * @param {string} name - The id for the step to remove\n   */\n  removeStep(name: string) {\n    const current = this.getCurrentStep();\n\n    // Find the step, destroy it and remove it from this.steps\n    this.steps.some((step, i) => {\n      if (step.id === name) {\n        if (step.isOpen()) {\n          step.hide();\n        }\n\n        step.destroy();\n        this.steps.splice(i, 1);\n\n        return true;\n      }\n    });\n\n    if (current && current.id === name) {\n      this.currentStep = undefined;\n\n      // If we have steps left, show the first one, otherwise just cancel the tour\n      this.steps.length ? this.show(0) : this.cancel();\n    }\n  }\n\n  /**\n   * Show a specific step in the tour\n   * @param {number | string} key - The key to look up the step by\n   * @param {boolean} forward - True if we are going forward, false if backward\n   */\n  show(key: number | string = 0, forward = true) {\n    const step = isString(key) ? this.getById(key) : this.steps[key];\n\n    if (step) {\n      this._updateStateBeforeShow();\n\n      const shouldSkipStep =\n        isFunction(step.options.showOn) && !step.options.showOn();\n\n      // If `showOn` returns false, we want to skip the step, otherwise, show the step like normal\n      if (shouldSkipStep) {\n        this._skipStep(step, forward);\n      } else {\n        this.trigger('show', {\n          step,\n          previous: this.currentStep\n        });\n\n        this.currentStep = step;\n        step.show();\n      }\n    }\n  }\n\n  /**\n   * Start the tour\n   */\n  async start() {\n    // Check if ShepherdPro is enabled, and if so check if the tour id is active or not.\n    if (\n      Shepherd.isProEnabled &&\n      !(await Shepherd.isTourEnabled(this.options.id as string))\n    ) {\n      return;\n    }\n\n    this.trigger('start');\n\n    // Save the focused element before the tour opens\n    this.focusedElBeforeOpen = document.activeElement as HTMLElement | null;\n\n    this.currentStep = null;\n\n    this.setupModal();\n\n    this._setupActiveTour();\n    this.next();\n  }\n\n  /**\n   * Called whenever the tour is cancelled or completed, basically anytime we exit the tour\n   * @param {string} event - The event name to trigger\n   * @private\n   */\n  _done(event: string) {\n    const index = this.steps.indexOf(this.currentStep as Step);\n    if (Array.isArray(this.steps)) {\n      this.steps.forEach((step) => step.destroy());\n    }\n\n    cleanupSteps(this);\n\n    this.trigger(event, { index });\n\n    Shepherd.activeTour = null;\n    this.trigger('inactive', { tour: this });\n\n    if (this.modal) {\n      this.modal.hide();\n    }\n\n    if (event === 'cancel' || event === 'complete') {\n      if (this.modal) {\n        const modalContainer = document.querySelector(\n          '.shepherd-modal-overlay-container'\n        );\n\n        if (modalContainer) {\n          modalContainer.remove();\n          this.modal = null;\n        }\n      }\n    }\n\n    // Focus the element that was focused before the tour started\n    if (isHTMLElement(this.focusedElBeforeOpen)) {\n      this.focusedElBeforeOpen.focus();\n    }\n  }\n\n  /**\n   * Make this tour \"active\"\n   */\n  _setupActiveTour() {\n    this.trigger('active', { tour: this });\n\n    Shepherd.activeTour = this;\n  }\n\n  /**\n   * setupModal create the modal container and instance\n   */\n  setupModal() {\n    this.modal = new ShepherdModal({\n      target: this.options.modalContainer || document.body,\n      props: {\n        // @ts-expect-error TODO: investigate where styles comes from\n        styles: this.styles\n      }\n    });\n  }\n\n  /**\n   * Called when `showOn` evaluates to false, to skip the step or complete the tour if it's the last step\n   * @param {Step} step - The step to skip\n   * @param {boolean} forward - True if we are going forward, false if backward\n   * @private\n   */\n  _skipStep(step: Step, forward: boolean) {\n    const index = this.steps.indexOf(step);\n\n    if (index === this.steps.length - 1) {\n      this.complete();\n    } else {\n      const nextIndex = forward ? index + 1 : index - 1;\n      this.show(nextIndex, forward);\n    }\n  }\n\n  /**\n   * Before showing, hide the current step and if the tour is not\n   * already active, call `this._setupActiveTour`.\n   * @private\n   */\n  _updateStateBeforeShow() {\n    if (this.currentStep) {\n      this.currentStep.hide();\n    }\n\n    if (!this.isActive()) {\n      this._setupActiveTour();\n    }\n  }\n\n  /**\n   * Sets this.id to a provided tourName and id or `${tourName}--${uuid}`\n   * @param {string} optionsId - True if we are going forward, false if backward\n   * @private\n   */\n  _setTourID(optionsId: string | undefined) {\n    const tourName = this.options.tourName || 'tour';\n    const tourId = optionsId || uuid();\n\n    this.id = `${tourName}--${tourId}`;\n  }\n}\n\n/**\n * @public\n */\nconst Shepherd = new ShepherdPro();\n\nexport { Shepherd };\n","import { Shepherd, Tour } from './tour.ts';\nimport { StepNoOp, TourNoOp } from './utils/general.ts';\nimport { Step } from './step.ts';\n\nconst isServerSide = typeof window === 'undefined';\n\nShepherd.Step = (isServerSide ? StepNoOp : Step) as unknown as typeof Step;\nShepherd.Tour = (isServerSide ? TourNoOp : Tour) as unknown as typeof Tour;\n\nexport default Shepherd;\n"],"names":["isElement","value","Element","isHTMLElement","HTMLElement","isFunction","isString","isUndefined","undefined","Evented","on","event","handler","ctx","once","_this$bindings$event","bindings","push","off","_this$bindings$event2","forEach","binding","index","_this$bindings$event3","splice","trigger","args","_this$bindings$event4","context","apply","_this$bindings$event5","actions","defaultMerge","Symbol","skip","defaultMetaDataUpdater","previousMeta","metaMeta","getObjectType","object","Array","isArray","isRecord","Set","Map","getKeys","objects","keys","key","Object","getOwnPropertySymbols","add","objectHasProperty","property","prototype","propertyIsEnumerable","call","getIterableOfIterables","iterables","iterator","iterable","validRecordToStringValues","has","toString","constructor","hasOwnProperty","mergeRecords$2","values","utils","meta","result","propValues","length","updatedMeta","metaDataUpdater","parents","propertyResult","mergeUnknowns","defineProperty","configurable","enumerable","writable","mergeArrays$2","flat","mergeSets$2","mergeMaps$2","mergeOthers$2","at","defaultMergeFunctions","freeze","__proto__","mergeArrays","mergeMaps","mergeOthers","mergeRecords","mergeSets","deepmerge","deepmergeCustom","options","rootMetaData","getUtils","customizedDeepmerge","_options$metaDataUpda","_options$enableImplic","mergeFunctions","_extends","fromEntries","entries","filter","option","hasOwn","map","useImplicitDefaultMerging","enableImplicitDefaultMerging","mergeOthers$1","type","m_index","mergeRecords$1","mergeArrays$1","mergeSets$1","mergeMaps$1","autoBind","self","getOwnPropertyNames","i","val","bind","_setupAdvanceOnHandler","step","selector","isOpen","targetIsEl","el","currentTarget","targetIsSelector","matches","tour","next","bindAdvance","advanceOn","document","querySelector","console","error","addEventListener","removeEventListener","body","StepNoOp","_options","TourNoOp","_tour","normalizePrefix","prefix","charAt","parseAttachTo","attachTo","returnOpts","assign","element","e","shouldCenterStep","resolvedAttachToOptions","uuid","d","Date","now","replace","c","r","Math","random","floor","min","max","round","createCoords","v","x","y","oppositeSideMap","left","right","bottom","top","oppositeAlignmentMap","start","end","clamp","evaluate","param","getSide","placement","split","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","includes","getAlignmentAxis","getAlignmentSides","rects","rtl","alignment","alignmentAxis","mainAlignmentSide","reference","floating","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","getSideList","side","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","direction","list","concat","expandPaddingObject","padding","getPaddingObject","rectToClientRect","rect","width","height","computeCoordsFromPlacement","_ref","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition","config","strategy","middleware","platform","validMiddleware","Boolean","isRTL","getElementRects","statefulPlacement","middlewareData","resetCount","name","fn","nextX","nextY","data","reset","initialPlacement","elements","detectOverflow","state","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","clippingClientRect","getClippingRect","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","arrow","arrowDimensions","getDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","offset","shouldAddOffset","alignmentOffset","centerOffset","flip","_middlewareData$arrow","_middlewareData$flip","_evaluate2","mainAxis","checkMainAxis","crossAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","_objectWithoutPropertiesLoose","_excluded2","isBasePlacement","placements","overflow","overflows","overflowsData","sides","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","sort","a","b","_overflowsData$map$so","reduce","acc","shift","_evaluate4","limiter","_excluded4","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse","_middlewareData$offse2","isOriginSide","getNodeName","node","isNode","nodeName","toLowerCase","getWindow","_node$ownerDocument","ownerDocument","defaultView","window","documentElement","Node","isShadowRoot","ShadowRoot","isOverflowElement","overflowX","overflowY","display","getComputedStyle","test","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","some","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","scrollTop","pageXOffset","pageYOffset","assignedSlot","parentNode","host","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","visualViewport","frameElement","getCssDimensions","parseFloat","hasOffset","offsetWidth","offsetHeight","shouldFallback","$","unwrapElement","domElement","getBoundingClientRect","Number","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","isTopLayer","topLayer","scroll","offsets","isOffsetParentAnElement","offsetRect","getClientRects","from","getWindowScrollBarX","getDocumentRect","html","scrollWidth","clientWidth","scrollHeight","clientHeight","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","position","getClippingElementAncestors","cache","cachedResult","get","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","set","elementClippingAncestors","_c","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getRectRelativeToOffsetParent","getTrueOffsetParent","polyfill","getOffsetParentFn","getDimensionsFn","observeMove","onMove","io","timeoutId","root","cleanup","_io","clearTimeout","disconnect","refresh","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","setTimeout","IntersectionObserver","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","ancestors","passive","cleanupIo","reobserveFrame","resizeObserver","firstEntry","target","unobserve","cancelAnimationFrame","requestAnimationFrame","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","shift$1","flip$1","arrow$1","limitShift$1","mergedOptions","platformWithCache","computePosition$1","setupTooltip","attachToOptions","_getResolvedAttachToOptions","floatingUIOptions","getFloatingUIOptions","shouldCenter","content","shepherdElementComponent","getElement","classList","setPosition","mergeTooltipConfig","tourOptions","destroyTooltip","then","floatingUIposition","Promise","resolve","focus","preventScroll","style","dataset","placeArrow","arrowEl","arrowX","arrowY","addArrow","noop","tar","src","k","run","blank_object","create","run_all","fns","is_function","thing","safe_not_equal","is_empty","obj","append","appendChild","insert","anchor","insertBefore","detach","removeChild","destroy_each","iterations","detaching","createElement","svg_element","createElementNS","text","createTextNode","space","empty","listen","attr","attribute","removeAttribute","getAttribute","setAttribute","always_set_through_set_attribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","cssText","indexOf","children","childNodes","toggle_class","toggle","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","afterUpdate","after_update","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","flush","add_render_callback","seen_callbacks","flushidx","saved_component","pop","callback","clear","fragment","before_update","dirty","p","flush_render_callbacks","filtered","targets","outroing","outros","group_outros","check_outros","transition_in","block","local","delete","transition_out","o","ensure_array_like","array_like_or_iterator","get_spread_update","levels","updates","to_null_out","accounted_for","$$scope","n","create_component","mount_component","m","new_on_destroy","on_destroy","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","callbacks","skip_bound","ready","ret","rest","hydrate","nodes","l","intro","SvelteComponent","$$set","$destroy","$on","$set","PUBLIC_VERSION","__svelte","button","button_class_value","arguments","$$props","action","classes","disabled","label","secondary","getConfigOption","$$invalidate","each_blocks","create_if_block","footer","buttons","button_aria_label_value","span","cancelIcon","handleCancelClick","preventDefault","cancel","h3","labelId","title","innerHTML","$$value","create_if_block_1","enabled","header","div","descriptionId","show_if_2","show_if_1","show_if","div_aria_describedby_value","current","KEY_TAB","KEY_ESC","LEFT_ARROW","RIGHT_ARROW","getClassesArray","className","classPrefix","firstFocusableElement","focusableElements","lastFocusableElement","dataStepId","hasCancelIcon","hasTitle","id","querySelectorAll","updateDynamicClasses","removeClasses","addClasses","oldClasses","remove","newClasses","handleKeyDown","keyCode","shiftKey","activeElement","contains","exitOnEsc","stopPropagation","keyboardNavigation","back","Step","_resolvedAttachTo","styles","_setOptions","complete","destroy","_updateStepTargetOnHide","getTour","hide","_this$tour$modal","modal","hidden","_resolveAttachToOptions","show","beforeShowPromise","_show","updateStepOptions","getTarget","_createTooltipContent","ShepherdElement","stepsContainer","_scrollTo","scrollToOptions","scrollToHandler","scrollIntoView","_getClassOptions","stepOptions","defaultStepOptions","stepClasses","defaultStepOptionsClasses","allClasses","uniqClasses","join","trim","when","_setupElements","_this$tour$modal2","setupModal","setupForStep","_styleTargetElementForStep","scrollTo","targetElement","highlightClass","canClickTarget","getContext","navigator","userAgent","$os","os","$browser","browser","vendor","opera","$referrer","referrer","$referring_domain","referringDomain","$device","device","$current_url","location","href","$host","$pathname","pathname","$browser_version","browserVersion","$screen_height","screen","$screen_width","$screen_dpr","devicePixelRatio","$lib","$insert_id","substring","$time","getTime","haystack","needle","regexList","Chrome","Safari","Opera","Firefox","Konqueror","BlackBerry","Mozilla","browserString","regex","match","cleanupSteps","steps","instanceOfAny","constructors","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","IDBDatabase","IDBObjectStore","IDBIndex","IDBCursor","IDBTransaction","getCursorAdvanceMethods","advance","continue","continuePrimaryKey","transactionDoneMap","WeakMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","reject","unlisten","success","wrap","cacheDonePromiseForTransaction","tx","done","DOMException","idbProxyTraps","prop","receiver","objectStoreNames","objectStore","replaceTraps","wrapFunction","func","unwrap","transformCachableValue","Proxy","IDBRequest","newValue","openDB","version","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","oldVersion","newVersion","transaction","db","catch","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","method","storeName","store","all","oldTraps","advanceMethodProps","methodMap","advanceResults","ittrProxiedCursorToOriginalProxy","cursorIteratorTraps","cachedFunc","iterate","_iterate","_wrapAsyncGenerator","cursor","_awaitAsyncGenerator","openCursor","proxiedCursor","isIteratorProp","asyncIterator","DataRequest","apiKey","apiPath","properties","tourStateDb","getTourState","response","fetch","headers","Authorization","ok","json","createObjectStore","keyPath","tourAddTxs","tourState","put","message","sendEvents","JSON","stringify","makeOverlayPath","innerWidth","w","innerHeight","h","topLeft","topRight","bottomRight","bottomLeft","svg","path","_getScrollParent","isHtmlElement","isScrollable","parentElement","_getIframeOffset","targetWindow","_targetWindow","targetIframe","_targetIframeRect$scr","_targetIframeRect$scr2","targetIframeRect","parent","_getVisibleHeight","scrollParent","elementRect","scrollRect","scrollBottom","openingProperties","modalIsVisible","rafId","pathDefinition","closeModalOpening","_cleanupStepEventListeners","positionModal","modalOverlayOpeningPadding","modalOverlayOpeningRadius","modalOverlayOpeningXOffset","modalOverlayOpeningYOffset","useModalOverlay","_styleForStep","_preventModalBodyTouch","_preventModalOverlayTouch","_addStepEventListeners","iframeOffset","rafLoop","SHEPHERD_DEFAULT_API","SHEPHERD_USER_ID","ShepherdPro","dataRequester","isProEnabled","activeTour","shepherdProId","localStorage","getItem","promises","createNewActor","currentUserId","eventType","setItem","String","actorId","isTourEnabled","tourId","_this$dataRequester$t","_tourState$isActive","isActive","Tour","trackedEvents","currentStep","focusedElBeforeOpen","defaultTourOptions","addSteps","events","opts","Shepherd","_setTourID","findIndex","journeyData","numberOfSteps","addStep","confirmCancel","cancelMessage","confirmCancelMessage","stopTour","confirm","_done","getById","find","getCurrentStep","removeStep","forward","_updateStateBeforeShow","shouldSkipStep","showOn","_skipStep","previous","_setupActiveTour","modalContainer","ShepherdModal","optionsId","tourName","isServerSide"],"mappings":"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","x_google_ignoreList":[2,6,7,8,9,11,12,13,14,15,16,17,18,19,20,32]}